<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡¹ç›®è¯¦æƒ… - Alethea</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        :root {
            --primary-color: #0a2342;
            --secondary-color: #126872;
            --accent-color: #2ca58d;
            --light-color: #f8f9fa;
            --dark-color: #212529;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f5f7fa;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo {
            height: 60px;
            margin-right: 10px;
        }
        
        .nav-link {
            position: relative;
            color: var(--dark-color);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--primary-color);
        }
        
        .nav-link.active {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }
        
        .module-card {
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #e2e8f0;
        }
        
        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            border-color: var(--accent-color);
        }
        
        .module-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            margin-bottom: 12px;
        }
        
        .progress-bar {
            background-color: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, var(--accent-color), #22d3ee);
            height: 8px;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .step-card {
            border-left: 4px solid var(--accent-color);
            background: white;
            border-radius: 0 8px 8px 0;
            transition: all 0.3s ease;
        }
        
        .step-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .step-number {
            background: var(--accent-color);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .knowledge-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .knowledge-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .difficulty-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .difficulty-easy {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .difficulty-medium {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .difficulty-hard {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(107, 114, 128, 0.3);
        }
        
        .start-btn {
            background: linear-gradient(135deg, var(--accent-color), #22d3ee);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(44, 165, 141, 0.3);
        }
        
        /* Animation effects */
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }
        
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .logo {
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center">
                <img src="/static/logo.png" alt="Alethea Logo" class="h-12 mr-3">
                <span class="text-2xl font-bold text-primary">Alethea</span>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="/static/index.html" class="nav-link font-medium">é¦–é¡µ</a>
                <a href="/static/index.html#subjects" class="nav-link font-medium">å­¦ç§‘</a>
                <a href="/static/projects.html" class="nav-link font-medium active">é¡¹ç›®åˆ¶å­¦ä¹ </a>
                <a href="/static/answer.html" class="nav-link font-medium">AIé—®ç­”</a>
                <a href="#about" class="nav-link font-medium">å…³äºæˆ‘ä»¬</a>
            </div>
            <div class="flex items-center space-x-4">
                <!-- Language Switcher -->
                <div class="language-switcher" onclick="switchLanguage()">
                    <span class="text-lg">ğŸ‡ºğŸ‡¸</span>
                    <span class="text-sm font-medium">English</span>
                    <i class="fas fa-chevron-down text-xs"></i>
                </div>
                
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="relative" id="user-menu">
                    <button id="user-menu-button" class="flex items-center space-x-2 focus:outline-none">
                        <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center">
                            <i class="fas fa-user text-gray-600"></i>
                        </div>
                        <span class="hidden md:inline-block" id="user-menu-text">ç™»å½•/æ³¨å†Œ</span>
                        <i class="fas fa-chevron-down text-sm hidden md:inline-block" id="user-menu-arrow"></i>
                    </button>
                    <!-- æœªç™»å½•çŠ¶æ€çš„èœå• -->
                    <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden" id="guest-dropdown">
                        <a href="/static/login.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            <i class="fas fa-sign-in-alt mr-2"></i>ç™»å½•
                        </a>
                        <a href="/static/register.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            <i class="fas fa-user-plus mr-2"></i>æ³¨å†Œ
                        </a>
                    </div>
                    <!-- å·²ç™»å½•çŠ¶æ€çš„èœå• -->
                    <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden" id="user-dropdown">
                        <div class="px-4 py-2 text-sm text-gray-500 border-b border-gray-100">
                            <div class="font-medium" id="user-name">ç”¨æˆ·å</div>
                            <div class="text-xs" id="user-email">user@example.com</div>
                        </div>
                        <a href="/static/dashboard.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            <i class="fas fa-tachometer-alt mr-2"></i>ä¸ªäººä»ªè¡¨æ¿
                        </a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" id="profile-link">
                            <i class="fas fa-user-circle mr-2"></i>ä¸ªäººèµ„æ–™
                        </a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" id="settings-link">
                            <i class="fas fa-cog mr-2"></i>è®¾ç½®
                        </a>
                        <div class="border-t border-gray-100"></div>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" id="logout-link">
                            <i class="fas fa-sign-out-alt mr-2"></i>é€€å‡ºç™»å½•
                        </a>
                    </div>
                </div>
                <button class="md:hidden focus:outline-none" id="mobile-menu-button" title="èœå•">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        <!-- Mobile menu -->
        <div class="md:hidden hidden bg-white shadow-sm mt-2 py-3" id="mobile-menu">
            <div class="container mx-auto px-4 flex flex-col space-y-3">
                <a href="/static/index.html" class="block py-2 px-4 hover:bg-gray-100 rounded">é¦–é¡µ</a>
                <a href="/static/index.html#subjects" class="block py-2 px-4 hover:bg-gray-100 rounded">å­¦ç§‘</a>
                <a href="/static/projects.html" class="block py-2 px-4 hover:bg-gray-100 rounded">é¡¹ç›®åˆ¶å­¦ä¹ </a>
                <a href="/static/answer.html" class="block py-2 px-4 hover:bg-gray-100 rounded">AIé—®ç­”</a>
                <a href="#about" class="block py-2 px-4 hover:bg-gray-100 rounded">å…³äºæˆ‘ä»¬</a>
            </div>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="container mx-auto px-4 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between">
                <div class="flex-1">
                    <div class="flex items-center mb-4">
                        <div id="project-icon" class="project-icon bg-blue-500 mr-4">
                            <i class="fas fa-car"></i>
                        </div>
                        <div>
                            <h1 id="project-title" class="text-3xl font-bold text-gray-800 mb-2">åŠ è½½ä¸­...</h1>
                            <span id="project-difficulty" class="difficulty-badge difficulty-medium">åŠ è½½ä¸­</span>
                        </div>
                    </div>
                    <p id="project-description" class="text-gray-600 text-lg mb-6">
                        æ­£åœ¨åŠ è½½é¡¹ç›®ä¿¡æ¯...
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-clock text-blue-500 mr-3"></i>
                            <div>
                                <div class="text-sm text-gray-500">é¢„è®¡æ—¶é—´</div>
                                <div id="project-duration" class="font-semibold">2-3å‘¨</div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-users text-green-500 mr-3"></i>
                            <div>
                                <div class="text-sm text-gray-500">é€‚åˆäººæ•°</div>
                                <div class="font-semibold">1-3äºº</div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-star text-yellow-500 mr-3"></i>
                            <div>
                                <div class="text-sm text-gray-500">é¡¹ç›®è¯„åˆ†</div>
                                <div class="font-semibold">4.8/5.0</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:ml-8">
                    <button class="start-btn w-full lg:w-auto">
                        <i class="fas fa-play mr-2"></i>å¼€å§‹é¡¹ç›®
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant Chat -->
    <div id="ai-assistant-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col">
                <div class="flex justify-between items-center p-6 border-b">
                    <h3 class="text-xl font-bold text-gray-800 flex items-center">
                        <i class="fas fa-robot text-blue-500 mr-2"></i>
                        AIé¡¹ç›®åŠ©æ‰‹
                    </h3>
                    <button id="close-ai-assistant" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div id="chat-messages" class="flex-1 overflow-y-auto p-6 space-y-4">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                            <p class="text-sm">æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„AIé¡¹ç›®åŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå…³äºé¡¹ç›®çš„é—®é¢˜éœ€è¦å¸®åŠ©å—ï¼Ÿ</p>
                        </div>
                    </div>
                </div>
                <div class="p-6 border-t">
                    <div class="flex space-x-3">
                        <input type="text" id="ai-question-input" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." 
                               class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button id="send-ai-question" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Modules -->
    <section class="container mx-auto px-4 py-8">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">é¡¹ç›®æ¨¡å—</h2>
            <button id="open-ai-assistant" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center">
                <i class="fas fa-robot mr-2"></i>
                AIåŠ©æ‰‹
            </button>
        </div>
        <div id="project-modules" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            <!-- Modules will be dynamically loaded here -->
        </div>
    </section>

    <!-- Project Steps -->
    <section class="container mx-auto px-4 py-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">å®æ–½æ­¥éª¤</h2>
        <div id="project-steps" class="space-y-6 mb-12">
            <!-- Steps will be dynamically loaded here -->
        </div>
    </section>

    <!-- Required Skills -->
    <section class="container mx-auto px-4 py-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">æ‰€éœ€æŠ€èƒ½</h2>
        <div class="bg-white rounded-lg shadow-lg p-6 mb-12">
            <div id="project-skills" class="flex flex-wrap gap-3">
                <!-- Skills will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Related Knowledge Points -->
    <section class="container mx-auto px-4 py-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">ç›¸å…³çŸ¥è¯†ç‚¹</h2>
        <div class="bg-white rounded-lg shadow-lg p-6">
            <div id="knowledge-points" class="flex flex-wrap gap-3">
                <!-- Knowledge points will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-16">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Alethea</h3>
                    <p class="text-gray-400">é«˜ç­‰æ•™è‚²çŸ¥è¯†é—®ç­”å¹³å°</p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">å¿«é€Ÿé“¾æ¥</h3>
                    <ul class="space-y-2">
                        <li><a href="/" class="text-gray-400 hover:text-white">é¦–é¡µ</a></li>
                        <li><a href="/#subjects" class="text-gray-400 hover:text-white">å­¦ç§‘</a></li>
                        <li><a href="/static/projects.html" class="text-gray-400 hover:text-white">é¡¹ç›®åˆ¶å­¦ä¹ </a></li>
                        <li><a href="/#about" class="text-gray-400 hover:text-white">å…³äºæˆ‘ä»¬</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">æ”¯æŒ</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">å¸®åŠ©ä¸­å¿ƒ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">å¸¸è§é—®é¢˜</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">è”ç³»æˆ‘ä»¬</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">æ³•å¾‹</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">éšç§æ”¿ç­–</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">ä½¿ç”¨æ¡æ¬¾</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Alethea. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // è·å–URLå‚æ•°
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // é¡¹ç›®æ•°æ®
        const projectsData = {
            'smart-car': {
                title: 'æ™ºèƒ½å°è½¦',
                description: 'åŸºäºArduinoçš„é¿éšœæ™ºèƒ½å°è½¦ï¼Œé›†æˆè¶…å£°æ³¢ä¼ æ„Ÿå™¨ã€ç”µæœºé©±åŠ¨ç­‰æ¨¡å—',
                difficulty: 'medium',
                duration: '2-3å‘¨',
                icon: 'fas fa-car',
                color: 'bg-blue-500'
            },
            'image-classifier': {
                title: 'å›¾åƒåˆ†ç±»å™¨',
                description: 'è®­ç»ƒå·ç§¯ç¥ç»ç½‘ç»œè¿›è¡Œå›¾åƒåˆ†ç±»å’Œç‰©ä½“è¯†åˆ«',
                difficulty: 'medium',
                duration: '2-3å‘¨',
                icon: 'fas fa-images',
                color: 'bg-purple-600'
            },
            'smart-home': {
                title: 'æ™ºèƒ½å®¶å±…ç³»ç»Ÿ',
                description: 'æ„å»ºç‰©è”ç½‘æ™ºèƒ½å®¶å±…ç³»ç»Ÿï¼Œå®ç°è¿œç¨‹æ§åˆ¶å’Œç¯å¢ƒç›‘æµ‹',
                difficulty: 'medium',
                duration: '3-4å‘¨',
                icon: 'fas fa-home',
                color: 'bg-teal-500'
            },
            'led-matrix': {
                title: 'LEDç‚¹é˜µæ˜¾ç¤ºå±',
                description: 'åˆ¶ä½œå¯ç¼–ç¨‹LEDç‚¹é˜µæ˜¾ç¤ºå±ï¼Œå®ç°æ–‡å­—æ»šåŠ¨ã€å›¾æ¡ˆæ˜¾ç¤ºç­‰åŠŸèƒ½',
                difficulty: 'easy',
                duration: '1-2å‘¨',
                icon: 'fas fa-tv',
                color: 'bg-green-500'
            },
            'line-follower': {
                title: 'å¾ªè¿¹æœºå™¨äºº',
                description: 'åˆ¶ä½œèƒ½å¤Ÿè‡ªåŠ¨å¾ªè¿¹çš„æœºå™¨äººï¼Œä½¿ç”¨çº¢å¤–ä¼ æ„Ÿå™¨æ£€æµ‹è·¯å¾„',
                difficulty: 'medium',
                duration: '2å‘¨',
                icon: 'fas fa-route',
                color: 'bg-yellow-500'
            },
            'robotic-arm': {
                title: 'æœºæ¢°è‡‚æ§åˆ¶ç³»ç»Ÿ',
                description: 'è®¾è®¡å¤šè‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œå®ç°ç²¾ç¡®çš„ä½ç½®æ§åˆ¶å’Œè·¯å¾„è§„åˆ’',
                difficulty: 'hard',
                duration: '4-6å‘¨',
                icon: 'fas fa-robot',
                color: 'bg-red-500'
            },
            'drone-basic': {
                title: 'å››æ—‹ç¿¼æ— äººæœº',
                description: 'ç»„è£…å¹¶ç¼–ç¨‹å››æ—‹ç¿¼æ— äººæœºï¼Œå®ç°ç¨³å®šé£è¡Œå’ŒåŸºæœ¬æ§åˆ¶',
                difficulty: 'hard',
                duration: '3-4å‘¨',
                icon: 'fas fa-helicopter',
                color: 'bg-indigo-500'
            },
            'weather-station': {
                title: 'æ°”è±¡ç›‘æµ‹ç«™',
                description: 'åˆ¶ä½œèƒ½å¤Ÿå®æ—¶ç›‘æµ‹æ¸©æ¹¿åº¦ã€æ°”å‹ç­‰ç¯å¢ƒå‚æ•°çš„æ°”è±¡ç«™',
                difficulty: 'easy',
                duration: '1-2å‘¨',
                icon: 'fas fa-cloud-sun',
                color: 'bg-cyan-500'
            },
            'smart-garden': {
                title: 'æ™ºèƒ½èŠ±å›­',
                description: 'è®¾è®¡è‡ªåŠ¨æµ‡æ°´å’Œç¯å¢ƒç›‘æ§çš„æ™ºèƒ½èŠ±å›­ç³»ç»Ÿ',
                difficulty: 'medium',
                duration: '2-3å‘¨',
                icon: 'fas fa-seedling',
                color: 'bg-green-600'
            },
            'face-recognition': {
                title: 'äººè„¸è¯†åˆ«ç³»ç»Ÿ',
                description: 'åŸºäºæ·±åº¦å­¦ä¹ çš„äººè„¸è¯†åˆ«ç³»ç»Ÿï¼Œå®ç°èº«ä»½éªŒè¯åŠŸèƒ½',
                difficulty: 'hard',
                duration: '4-5å‘¨',
                icon: 'fas fa-user-check',
                color: 'bg-pink-500'
            },
            'chatbot': {
                title: 'æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                description: 'å¼€å‘åŸºäºè‡ªç„¶è¯­è¨€å¤„ç†çš„æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                difficulty: 'medium',
                duration: '3å‘¨',
                icon: 'fas fa-comments',
                color: 'bg-blue-600'
            },
            'plc-control': {
                title: 'PLCæ§åˆ¶ç³»ç»Ÿ',
                description: 'è®¾è®¡å·¥ä¸šè‡ªåŠ¨åŒ–PLCæ§åˆ¶ç³»ç»Ÿï¼Œå®ç°ç”Ÿäº§çº¿è‡ªåŠ¨åŒ–',
                difficulty: 'hard',
                duration: '4-6å‘¨',
                icon: 'fas fa-industry',
                color: 'bg-gray-600'
            },
            'motor-control': {
                title: 'ç”µæœºè°ƒé€Ÿç³»ç»Ÿ',
                description: 'å®ç°ç›´æµç”µæœºå’Œæ­¥è¿›ç”µæœºçš„ç²¾ç¡®è°ƒé€Ÿæ§åˆ¶',
                difficulty: 'medium',
                duration: '2-3å‘¨',
                icon: 'fas fa-cog',
                color: 'bg-orange-500'
            },
            'conveyor-system': {
                title: 'ä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ',
                description: 'è®¾è®¡è‡ªåŠ¨åŒ–ä¼ é€å¸¦ç³»ç»Ÿï¼ŒåŒ…å«ç‰©æ–™æ£€æµ‹å’Œåˆ†æ‹£åŠŸèƒ½',
                difficulty: 'medium',
                duration: '3å‘¨',
                icon: 'fas fa-conveyor-belt',
                color: 'bg-amber-500'
            },
            'digital-clock': {
                title: 'æ•°å­—æ—¶é’Ÿ',
                description: 'è®¾è®¡åˆ¶ä½œå¸¦é—¹é’ŸåŠŸèƒ½çš„æ•°å­—æ—¶é’Ÿï¼ŒåŒ…å«RTCæ¨¡å—å’ŒLCDæ˜¾ç¤º',
                difficulty: 'easy',
                duration: '1å‘¨',
                icon: 'fas fa-clock',
                color: 'bg-purple-500'
            }
        };

        // è·å–éš¾åº¦æ ‡ç­¾æ ·å¼
        function getDifficultyClass(difficulty) {
            const classes = {
                'easy': 'difficulty-easy',
                'medium': 'difficulty-medium',
                'hard': 'difficulty-hard'
            };
            return classes[difficulty] || 'difficulty-easy';
        }

        // è·å–éš¾åº¦æ–‡æœ¬
        function getDifficultyText(difficulty) {
            const texts = {
                'easy': 'å…¥é—¨',
                'medium': 'ä¸­çº§',
                'hard': 'é«˜çº§'
            };
            return texts[difficulty] || 'å…¥é—¨';
        }

        // åŠ è½½é¡¹ç›®ä¿¡æ¯
        function loadProject() {
            const projectId = getUrlParameter('id') || 'smart-car';
            const project = projectsData[projectId];
            
            if (project) {
                document.getElementById('project-title').textContent = project.title;
                document.getElementById('project-description').textContent = project.description;
                document.getElementById('project-duration').textContent = project.duration;
                
                const difficultyElement = document.getElementById('project-difficulty');
                difficultyElement.textContent = getDifficultyText(project.difficulty);
                difficultyElement.className = `difficulty-badge ${getDifficultyClass(project.difficulty)}`;
                
                const iconElement = document.getElementById('project-icon');
                iconElement.innerHTML = `<i class="${project.icon}"></i>`;
                iconElement.className = `module-icon ${project.color} mr-4`;
                
                // æ˜¾ç¤ºAIç”ŸæˆçŠ¶æ€
                showAIGenerating();
            }
        }

        // æ˜¾ç¤ºAIç”ŸæˆçŠ¶æ€
        function showAIGenerating() {
            document.getElementById('project-modules').innerHTML = `
                <div class="col-span-full text-center py-12">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div>
                    <p class="text-gray-600">AIæ­£åœ¨ç”Ÿæˆé¡¹ç›®è¯¦ç»†å†…å®¹...</p>
                </div>
            `;
            
            document.getElementById('project-steps').innerHTML = `
                <div class="text-center py-8">
                    <div class="animate-pulse bg-gray-200 h-4 w-3/4 mx-auto mb-2 rounded"></div>
                    <div class="animate-pulse bg-gray-200 h-4 w-1/2 mx-auto rounded"></div>
                </div>
            `;
            
            document.getElementById('project-skills').innerHTML = `
                <div class="flex space-x-2">
                    <div class="animate-pulse bg-gray-200 h-8 w-20 rounded"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-24 rounded"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-16 rounded"></div>
                </div>
            `;
            
            document.getElementById('knowledge-points').innerHTML = `
                <div class="flex flex-wrap gap-2">
                    <div class="animate-pulse bg-gray-200 h-8 w-20 rounded-full"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-24 rounded-full"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-16 rounded-full"></div>
                </div>
            `;

            // 3ç§’åæ˜¾ç¤ºç”Ÿæˆçš„å†…å®¹
            setTimeout(showGeneratedContent, 3000);
        }

        // æ˜¾ç¤ºç”Ÿæˆçš„å†…å®¹
        function showGeneratedContent() {
            const projectId = getUrlParameter('id') || 'smart-car';
            const project = getBasicProjectInfo(projectId);
            
            if (project) {
                // æ ¹æ®é¡¹ç›®ç±»å‹ç”Ÿæˆå¯¹åº”çš„å†…å®¹
                const projectDetail = generateProjectSpecificContent(project);
                
                // æ¸²æŸ“å†…å®¹
                renderModules(projectDetail.modules);
                renderSteps(projectDetail.steps);
                renderSkills(projectDetail.skills);
                renderKnowledgePoints(projectDetail.knowledgePoints);
            }
        }

        // æ¸²æŸ“é¡¹ç›®æ¨¡å—
        function renderModules(modules) {
            const container = document.getElementById('project-modules');
            container.innerHTML = modules.map((module, index) => `
                <div class="module-card bg-white p-6 shadow-lg fade-in-up stagger-${(index % 4) + 1}" 
                     onclick="openModuleDetail('${module.title}')">
                    <div class="module-icon ${module.color}">
                        <i class="${module.icon}"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">${module.title}</h3>
                    <p class="text-gray-600 mb-4">${module.description}</p>
                    <div class="flex flex-wrap gap-2">
                        ${module.knowledgePoints.slice(0, 2).map(point => 
                            `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">${point}</span>`
                        ).join('')}
                        ${module.knowledgePoints.length > 2 ? 
                            `<span class="text-gray-500 text-xs">+${module.knowledgePoints.length - 2}</span>` : ''
                        }
                    </div>
                </div>
            `).join('');
        }

        // æ¸²æŸ“é¡¹ç›®æ­¥éª¤
        function renderSteps(steps) {
            const container = document.getElementById('project-steps');
            container.innerHTML = steps.map((step, index) => `
                <div class="step-card p-6 fade-in-up stagger-${(index % 4) + 1}">
                    <div class="flex items-start">
                        <div class="step-number mr-4 mt-1">
                            ${index + 1}
                        </div>
                        <div class="flex-1">
                            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-3">
                                <h3 class="text-xl font-bold text-gray-800">${step.title}</h3>
                                <span class="text-sm text-gray-500 mt-1 lg:mt-0">
                                    <i class="fas fa-clock mr-1"></i>${step.duration}
                                </span>
                            </div>
                            <p class="text-gray-600 mb-4">${step.description}</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                ${step.tasks.map(task => 
                                    `<div class="flex items-center text-sm text-gray-700">
                                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                        ${task}
                                    </div>`
                                ).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // æ¸²æŸ“æŠ€èƒ½æ ‡ç­¾
        function renderSkills(skills) {
            const container = document.getElementById('project-skills');
            container.innerHTML = skills.map(skill => 
                `<span class="bg-blue-100 text-blue-800 px-3 py-2 rounded-lg font-medium">${skill}</span>`
            ).join('');
        }

        // æ¸²æŸ“çŸ¥è¯†ç‚¹
        function renderKnowledgePoints(points) {
            const container = document.getElementById('knowledge-points');
            container.innerHTML = points.map(point => 
                `<span class="knowledge-tag" onclick="searchKnowledge('${point}')">${point}</span>`
            ).join('');
        }

        // æ‰“å¼€æ¨¡å—è¯¦æƒ…
        function openModuleDetail(moduleTitle) {
            alert(`æ‰“å¼€æ¨¡å—è¯¦æƒ…ï¼š${moduleTitle}`);
            // è¿™é‡Œå¯ä»¥å®ç°è·³è½¬åˆ°æ¨¡å—è¯¦æƒ…é¡µé¢æˆ–æ˜¾ç¤ºæ¨¡æ€æ¡†
        }

        // æœç´¢çŸ¥è¯†ç‚¹
        function searchKnowledge(point) {
            // è·³è½¬åˆ°é—®ç­”é¡µé¢æœç´¢ç›¸å…³çŸ¥è¯†ç‚¹
            window.location.href = `/static/answer.html?q=${encodeURIComponent(point)}`;
        }

        // æ ¹æ®é¡¹ç›®ç±»å‹ç”Ÿæˆç‰¹å®šå†…å®¹
        function generateProjectSpecificContent(project) {
            const contentTemplates = {
                'smart-home': {
                    modules: [
                        {
                            title: 'ä¼ æ„Ÿå™¨ç½‘ç»œæ­å»º',
                            description: 'éƒ¨ç½²æ¸©æ¹¿åº¦ã€å…‰ç…§ã€çƒŸé›¾ç­‰ç¯å¢ƒä¼ æ„Ÿå™¨',
                            icon: 'fas fa-thermometer-half',
                            color: 'bg-blue-500',
                            knowledgePoints: ['ä¼ æ„Ÿå™¨åŸç†', 'æ•°æ®é‡‡é›†', 'ç½‘ç»œé€šä¿¡']
                        },
                        {
                            title: 'WiFié€šä¿¡æ¨¡å—',
                            description: 'å®ç°è®¾å¤‡é—´çš„æ— çº¿é€šä¿¡å’Œæ•°æ®ä¼ è¾“',
                            icon: 'fas fa-wifi',
                            color: 'bg-green-500',
                            knowledgePoints: ['WiFiåè®®', 'æ— çº¿é€šä¿¡', 'TCP/IP']
                        },
                        {
                            title: 'äº‘å¹³å°é›†æˆ',
                            description: 'è¿æ¥äº‘æœåŠ¡å®ç°è¿œç¨‹ç›‘æ§å’Œæ§åˆ¶',
                            icon: 'fas fa-cloud',
                            color: 'bg-purple-500',
                            knowledgePoints: ['äº‘è®¡ç®—', 'APIæ¥å£', 'æ•°æ®å­˜å‚¨']
                        },
                        {
                            title: 'ç§»åŠ¨åº”ç”¨å¼€å‘',
                            description: 'å¼€å‘æ‰‹æœºAPPå®ç°è¿œç¨‹æ§åˆ¶åŠŸèƒ½',
                            icon: 'fas fa-mobile-alt',
                            color: 'bg-orange-500',
                            knowledgePoints: ['ç§»åŠ¨å¼€å‘', 'ç”¨æˆ·ç•Œé¢', 'å®æ—¶é€šä¿¡']
                        }
                    ],
                    steps: [
                        {
                            title: 'ç³»ç»Ÿæ¶æ„è®¾è®¡',
                            description: 'è®¾è®¡æ™ºèƒ½å®¶å±…ç³»ç»Ÿçš„æ•´ä½“æ¶æ„å’Œé€šä¿¡æ–¹æ¡ˆ',
                            duration: '2-3å¤©',
                            tasks: ['éœ€æ±‚åˆ†æ', 'æ¶æ„è®¾è®¡', 'æŠ€æœ¯é€‰å‹', 'é€šä¿¡åè®®è®¾è®¡']
                        },
                        {
                            title: 'ä¼ æ„Ÿå™¨éƒ¨ç½²',
                            description: 'å®‰è£…å’Œé…ç½®å„ç±»ç¯å¢ƒç›‘æµ‹ä¼ æ„Ÿå™¨',
                            duration: '3-4å¤©',
                            tasks: ['ä¼ æ„Ÿå™¨é€‰å‹', 'ç¡¬ä»¶å®‰è£…', 'æ•°æ®æ ¡å‡†', 'ç½‘ç»œé…ç½®']
                        },
                        {
                            title: 'äº‘å¹³å°å¼€å‘',
                            description: 'æ­å»ºäº‘ç«¯æ•°æ®å¤„ç†å’Œå­˜å‚¨ç³»ç»Ÿ',
                            duration: '1-2å‘¨',
                            tasks: ['æœåŠ¡å™¨æ­å»º', 'æ•°æ®åº“è®¾è®¡', 'APIå¼€å‘', 'å®‰å…¨é…ç½®']
                        },
                        {
                            title: 'ç§»åŠ¨åº”ç”¨å¼€å‘',
                            description: 'å¼€å‘ç”¨æˆ·æ§åˆ¶ç•Œé¢å’Œå®æ—¶ç›‘æ§åŠŸèƒ½',
                            duration: '1-2å‘¨',
                            tasks: ['ç•Œé¢è®¾è®¡', 'åŠŸèƒ½å¼€å‘', 'æ•°æ®åŒæ­¥', 'ç”¨æˆ·æµ‹è¯•']
                        }
                    ],
                    skills: ['WiFié€šä¿¡', 'ä¼ æ„Ÿå™¨ç½‘ç»œ', 'ç§»åŠ¨åº”ç”¨', 'äº‘å¹³å°', 'ç‰©è”ç½‘åè®®', 'æ•°æ®åˆ†æ'],
                    knowledgePoints: [
                        'ç‰©è”ç½‘æ¶æ„', 'WiFié€šä¿¡åè®®', 'ä¼ æ„Ÿå™¨æŠ€æœ¯', 'äº‘è®¡ç®—å¹³å°',
                        'ç§»åŠ¨åº”ç”¨å¼€å‘', 'æ•°æ®åº“è®¾è®¡', 'ç½‘ç»œå®‰å…¨', 'å®æ—¶æ•°æ®å¤„ç†'
                    ]
                },
                'image-classifier': {
                    modules: [
                        {
                            title: 'æ•°æ®é›†å‡†å¤‡',
                            description: 'æ”¶é›†å’Œé¢„å¤„ç†å›¾åƒè®­ç»ƒæ•°æ®',
                            icon: 'fas fa-database',
                            color: 'bg-blue-500',
                            knowledgePoints: ['æ•°æ®æ”¶é›†', 'å›¾åƒé¢„å¤„ç†', 'æ•°æ®å¢å¼º']
                        },
                        {
                            title: 'CNNæ¨¡å‹è®¾è®¡',
                            description: 'è®¾è®¡å·ç§¯ç¥ç»ç½‘ç»œæ¶æ„',
                            icon: 'fas fa-brain',
                            color: 'bg-purple-500',
                            knowledgePoints: ['å·ç§¯ç¥ç»ç½‘ç»œ', 'æ¨¡å‹æ¶æ„', 'å‚æ•°è®¾è®¡']
                        },
                        {
                            title: 'æ¨¡å‹è®­ç»ƒ',
                            description: 'è®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹å¹¶ä¼˜åŒ–å‚æ•°',
                            icon: 'fas fa-cogs',
                            color: 'bg-green-500',
                            knowledgePoints: ['æ¨¡å‹è®­ç»ƒ', 'æŸå¤±å‡½æ•°', 'ä¼˜åŒ–ç®—æ³•']
                        },
                        {
                            title: 'æ¨¡å‹éƒ¨ç½²',
                            description: 'å°†è®­ç»ƒå¥½çš„æ¨¡å‹éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ',
                            icon: 'fas fa-rocket',
                            color: 'bg-orange-500',
                            knowledgePoints: ['æ¨¡å‹éƒ¨ç½²', 'APIå¼€å‘', 'æ€§èƒ½ä¼˜åŒ–']
                        }
                    ],
                    steps: [
                        {
                            title: 'æ•°æ®å‡†å¤‡',
                            description: 'æ”¶é›†ã€æ¸…æ´—å’Œé¢„å¤„ç†å›¾åƒæ•°æ®é›†',
                            duration: '3-5å¤©',
                            tasks: ['æ•°æ®æ”¶é›†', 'æ•°æ®æ¸…æ´—', 'æ ‡ç­¾æ ‡æ³¨', 'æ•°æ®åˆ’åˆ†']
                        },
                        {
                            title: 'æ¨¡å‹è®¾è®¡',
                            description: 'è®¾è®¡CNNç½‘ç»œæ¶æ„å’Œè®­ç»ƒç­–ç•¥',
                            duration: '2-3å¤©',
                            tasks: ['ç½‘ç»œè®¾è®¡', 'æŸå¤±å‡½æ•°é€‰æ‹©', 'ä¼˜åŒ–å™¨é…ç½®', 'è¯„ä¼°æŒ‡æ ‡è®¾è®¡']
                        },
                        {
                            title: 'æ¨¡å‹è®­ç»ƒ',
                            description: 'è®­ç»ƒæ¨¡å‹å¹¶è¿›è¡Œå‚æ•°è°ƒä¼˜',
                            duration: '1-2å‘¨',
                            tasks: ['æ¨¡å‹è®­ç»ƒ', 'å‚æ•°è°ƒä¼˜', 'éªŒè¯æµ‹è¯•', 'æ€§èƒ½è¯„ä¼°']
                        },
                        {
                            title: 'éƒ¨ç½²åº”ç”¨',
                            description: 'éƒ¨ç½²æ¨¡å‹å¹¶å¼€å‘åº”ç”¨æ¥å£',
                            duration: '3-5å¤©',
                            tasks: ['æ¨¡å‹å¯¼å‡º', 'APIå¼€å‘', 'å‰ç«¯ç•Œé¢', 'æ€§èƒ½æµ‹è¯•']
                        }
                    ],
                    skills: ['CNN', 'å›¾åƒå¤„ç†', 'TensorFlow', 'æ•°æ®é¢„å¤„ç†', 'Pythonç¼–ç¨‹', 'æ¨¡å‹éƒ¨ç½²'],
                    knowledgePoints: [
                        'æ·±åº¦å­¦ä¹ ', 'å·ç§¯ç¥ç»ç½‘ç»œ', 'å›¾åƒå¤„ç†', 'æ•°æ®ç§‘å­¦',
                        'TensorFlowæ¡†æ¶', 'æ¨¡å‹ä¼˜åŒ–', 'è®¡ç®—æœºè§†è§‰', 'æœºå™¨å­¦ä¹ '
                    ]
                },
                'line-follower': {
                    modules: [
                        {
                            title: 'ä¼ æ„Ÿå™¨ç³»ç»Ÿ',
                            description: 'é›†æˆçº¢å¤–ä¼ æ„Ÿå™¨é˜µåˆ—å®ç°è·¯å¾„æ£€æµ‹',
                            icon: 'fas fa-eye',
                            color: 'bg-red-500',
                            knowledgePoints: ['çº¢å¤–ä¼ æ„Ÿå™¨', 'ä¿¡å·è°ƒç†', 'é˜ˆå€¼è®¾å®š']
                        },
                        {
                            title: 'è¿åŠ¨æ§åˆ¶',
                            description: 'è®¾è®¡å·®é€Ÿé©±åŠ¨ç³»ç»Ÿå®ç°ç²¾ç¡®è½¬å‘',
                            icon: 'fas fa-cogs',
                            color: 'bg-blue-500',
                            knowledgePoints: ['å·®é€Ÿæ§åˆ¶', 'ç”µæœºé©±åŠ¨', 'PWMè°ƒé€Ÿ']
                        },
                        {
                            title: 'æ§åˆ¶ç®—æ³•',
                            description: 'å®ç°PIDæ§åˆ¶ç®—æ³•ä¼˜åŒ–å¾ªè¿¹æ€§èƒ½',
                            icon: 'fas fa-brain',
                            color: 'bg-green-500',
                            knowledgePoints: ['PIDæ§åˆ¶', 'åé¦ˆç³»ç»Ÿ', 'å‚æ•°è°ƒä¼˜']
                        },
                        {
                            title: 'ç³»ç»Ÿé›†æˆ',
                            description: 'æ•´åˆç¡¬ä»¶å’Œè½¯ä»¶å®ç°å®Œæ•´åŠŸèƒ½',
                            icon: 'fas fa-puzzle-piece',
                            color: 'bg-purple-500',
                            knowledgePoints: ['ç³»ç»Ÿè°ƒè¯•', 'æ€§èƒ½ä¼˜åŒ–', 'æ•…éšœè¯Šæ–­']
                        }
                    ],
                    steps: [
                        {
                            title: 'ç¡¬ä»¶æ­å»º',
                            description: 'ç»„è£…æœºå™¨äººåº•ç›˜å’Œä¼ æ„Ÿå™¨ç³»ç»Ÿ',
                            duration: '2-3å¤©',
                            tasks: ['åº•ç›˜ç»„è£…', 'ä¼ æ„Ÿå™¨å®‰è£…', 'ç”µè·¯è¿æ¥', 'åŸºç¡€æµ‹è¯•']
                        },
                        {
                            title: 'ä¼ æ„Ÿå™¨è°ƒè¯•',
                            description: 'æ ¡å‡†çº¢å¤–ä¼ æ„Ÿå™¨å¹¶æµ‹è¯•æ£€æµ‹æ•ˆæœ',
                            duration: '1-2å¤©',
                            tasks: ['ä¼ æ„Ÿå™¨æ ¡å‡†', 'é˜ˆå€¼è®¾å®š', 'æ£€æµ‹æµ‹è¯•', 'ä¿¡å·ä¼˜åŒ–']
                        },
                        {
                            title: 'åŸºç¡€å¾ªè¿¹',
                            description: 'å®ç°ç®€å•çš„å¾ªè¿¹åŠŸèƒ½',
                            duration: '2-3å¤©',
                            tasks: ['åŸºç¡€ç®—æ³•', 'è½¬å‘é€»è¾‘', 'é€Ÿåº¦æ§åˆ¶', 'è·¯å¾„æµ‹è¯•']
                        },
                        {
                            title: 'PIDä¼˜åŒ–',
                            description: 'å¼•å…¥PIDæ§åˆ¶æå‡å¾ªè¿¹ç²¾åº¦',
                            duration: '2-3å¤©',
                            tasks: ['PIDå®ç°', 'å‚æ•°è°ƒä¼˜', 'æ€§èƒ½æµ‹è¯•', 'ç¨³å®šæ€§éªŒè¯']
                        }
                    ],
                    skills: ['ä¼ æ„Ÿå™¨èåˆ', 'PIDæ§åˆ¶', 'è·¯å¾„è·Ÿè¸ª', 'æœºå™¨äººå¯¼èˆª', 'åµŒå…¥å¼ç¼–ç¨‹'],
                    knowledgePoints: [
                        'çº¢å¤–ä¼ æ„Ÿå™¨åŸç†', 'PIDæ§åˆ¶ç†è®º', 'å·®é€Ÿé©±åŠ¨', 'åé¦ˆæ§åˆ¶',
                        'ä¿¡å·å¤„ç†', 'æœºå™¨äººè¿åŠ¨å­¦', 'æ§åˆ¶ç³»ç»Ÿ', 'åµŒå…¥å¼ç³»ç»Ÿ'
                    ]
                }
            };

            // å¦‚æœæœ‰é¢„å®šä¹‰æ¨¡æ¿ï¼Œä½¿ç”¨æ¨¡æ¿ï¼›å¦åˆ™ä½¿ç”¨é€šç”¨æ¨¡æ¿
            if (contentTemplates[project.id]) {
                return contentTemplates[project.id];
            }

            // é€šç”¨æ¨¡æ¿ï¼ˆæ ¹æ®é¡¹ç›®ç±»åˆ«ç”Ÿæˆï¼‰
            return generateGenericContent(project);
        }

        // ç”Ÿæˆé€šç”¨å†…å®¹
        function generateGenericContent(project) {
            const categoryTemplates = {
                'electronics': {
                    moduleTypes: ['ç¡¬ä»¶è®¾è®¡', 'ç”µè·¯åˆ†æ', 'ä¿¡å·å¤„ç†', 'ç³»ç»Ÿæµ‹è¯•'],
                    skills: ['ç”µè·¯è®¾è®¡', 'ä¿¡å·å¤„ç†', 'åµŒå…¥å¼ç¼–ç¨‹', 'ç¡¬ä»¶è°ƒè¯•'],
                    knowledge: ['ç”µè·¯åŸç†', 'æ¨¡æ‹Ÿç”µè·¯', 'æ•°å­—ç”µè·¯', 'ä¿¡å·å¤„ç†']
                },
                'robotics': {
                    moduleTypes: ['æœºæ¢°è®¾è®¡', 'ä¼ æ„Ÿå™¨é›†æˆ', 'æ§åˆ¶ç®—æ³•', 'ç³»ç»Ÿé›†æˆ'],
                    skills: ['æœºæ¢°è®¾è®¡', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'æ§åˆ¶ç®—æ³•', 'ç³»ç»Ÿé›†æˆ'],
                    knowledge: ['æœºå™¨äººå­¦', 'æ§åˆ¶ç†è®º', 'ä¼ æ„Ÿå™¨æŠ€æœ¯', 'è¿åŠ¨å­¦']
                },
                'iot': {
                    moduleTypes: ['è®¾å¤‡è¿æ¥', 'æ•°æ®ä¼ è¾“', 'äº‘å¹³å°', 'åº”ç”¨å¼€å‘'],
                    skills: ['ç‰©è”ç½‘åè®®', 'äº‘è®¡ç®—', 'æ•°æ®åˆ†æ', 'ç§»åŠ¨å¼€å‘'],
                    knowledge: ['ç‰©è”ç½‘æ¶æ„', 'æ— çº¿é€šä¿¡', 'äº‘è®¡ç®—', 'æ•°æ®åˆ†æ']
                },
                'ai': {
                    moduleTypes: ['æ•°æ®å¤„ç†', 'æ¨¡å‹è®¾è®¡', 'è®­ç»ƒä¼˜åŒ–', 'éƒ¨ç½²åº”ç”¨'],
                    skills: ['æœºå™¨å­¦ä¹ ', 'æ·±åº¦å­¦ä¹ ', 'æ•°æ®ç§‘å­¦', 'æ¨¡å‹éƒ¨ç½²'],
                    knowledge: ['æœºå™¨å­¦ä¹ ', 'æ·±åº¦å­¦ä¹ ', 'æ•°æ®ç§‘å­¦', 'ç®—æ³•ä¼˜åŒ–']
                },
                'automation': {
                    moduleTypes: ['ç³»ç»Ÿè®¾è®¡', 'æ§åˆ¶é€»è¾‘', 'è®¾å¤‡é›†æˆ', 'ç›‘æ§è°ƒè¯•'],
                    skills: ['è‡ªåŠ¨æ§åˆ¶', 'PLCç¼–ç¨‹', 'ç³»ç»Ÿé›†æˆ', 'æ•…éšœè¯Šæ–­'],
                    knowledge: ['è‡ªåŠ¨æ§åˆ¶', 'å·¥ä¸šæ§åˆ¶', 'PLCç¼–ç¨‹', 'ç³»ç»Ÿé›†æˆ']
                }
            };

            const template = categoryTemplates[project.category] || categoryTemplates['electronics'];
            const icons = ['fas fa-cogs', 'fas fa-microchip', 'fas fa-brain', 'fas fa-rocket'];
            const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-orange-500'];

            return {
                modules: template.moduleTypes.map((type, index) => ({
                    title: type,
                    description: `${project.title}é¡¹ç›®çš„${type}æ¨¡å—`,
                    icon: icons[index],
                    color: colors[index],
                    knowledgePoints: template.skills.slice(index * 2, (index + 1) * 2).concat([template.knowledge[index]])
                })),
                steps: [
                    {
                        title: 'é¡¹ç›®è§„åˆ’',
                        description: `åˆ¶å®š${project.title}çš„è¯¦ç»†å®æ–½è®¡åˆ’`,
                        duration: '1-2å¤©',
                        tasks: ['éœ€æ±‚åˆ†æ', 'æŠ€æœ¯è°ƒç ”', 'æ–¹æ¡ˆè®¾è®¡', 'èµ„æºå‡†å¤‡']
                    },
                    {
                        title: 'æ ¸å¿ƒå¼€å‘',
                        description: `å¼€å‘${project.title}çš„æ ¸å¿ƒåŠŸèƒ½`,
                        duration: '1-2å‘¨',
                        tasks: ['æ¶æ„è®¾è®¡', 'æ ¸å¿ƒå®ç°', 'åŠŸèƒ½æµ‹è¯•', 'æ€§èƒ½ä¼˜åŒ–']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆ',
                        description: `é›†æˆ${project.title}çš„å„ä¸ªæ¨¡å—`,
                        duration: '3-5å¤©',
                        tasks: ['æ¨¡å—é›†æˆ', 'ç³»ç»Ÿæµ‹è¯•', 'é—®é¢˜ä¿®å¤', 'æ–‡æ¡£ç¼–å†™']
                    }
                ],
                skills: template.skills.concat(['é¡¹ç›®ç®¡ç†', 'é—®é¢˜è§£å†³']),
                knowledgePoints: template.knowledge.concat(['é¡¹ç›®ç®¡ç†', 'ç³»ç»Ÿè®¾è®¡', 'é—®é¢˜è§£å†³', 'å›¢é˜Ÿåä½œ'])
            };
        }

        // AIåŠ©æ‰‹åŠŸèƒ½
        function openAIAssistant() {
            document.getElementById('ai-assistant-modal').classList.remove('hidden');
            document.getElementById('ai-question-input').focus();
        }

        function closeAIAssistant() {
            document.getElementById('ai-assistant-modal').classList.add('hidden');
        }

        function sendAIQuestion() {
            const input = document.getElementById('ai-question-input');
            const question = input.value.trim();
            
            if (!question) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addChatMessage(question, 'user');
            input.value = '';

            // æ¨¡æ‹ŸAIå›ç­”
            setTimeout(() => {
                const projectTitle = document.getElementById('project-title').textContent;
                addChatMessage(`è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼å…³äº${projectTitle}é¡¹ç›®ï¼Œæˆ‘å»ºè®®æ‚¨é¦–å…ˆäº†è§£ç›¸å…³çš„åŸºç¡€æ¦‚å¿µï¼Œç„¶åé€æ­¥å­¦ä¹ æ ¸å¿ƒæŠ€æœ¯ã€‚æ‚¨å¯ä»¥ä»ç®€å•çš„åŸºç¡€å®éªŒå¼€å§‹ï¼Œé€æ­¥è¿‡æ¸¡åˆ°å¤æ‚çš„ç³»ç»Ÿé›†æˆã€‚`, 'ai');
            }, 1000);
        }

        function addChatMessage(message, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start space-x-3';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center ml-auto">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                    <div class="bg-blue-100 rounded-lg p-3 max-w-xs ml-auto">
                        <p class="text-sm">${message}</p>
                    </div>
                `;
                messageDiv.classList.add('flex-row-reverse');
            } else {
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                        <p class="text-sm">${message}</p>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // ä»é¡¹ç›®åˆ—è¡¨æ•°æ®ä¸­è·å–åŸºæœ¬é¡¹ç›®ä¿¡æ¯
        function getBasicProjectInfo(projectId) {
            // å®Œæ•´çš„é¡¹ç›®æ•°æ®ï¼ŒåŒ…å«æ‰€æœ‰é¡¹ç›®åˆ—è¡¨é¡µé¢çš„é¡¹ç›®
            const projectsData = {
                // ç”µå­å·¥ç¨‹é¡¹ç›®
                'smart-car': {
                    id: 'smart-car',
                    title: 'æ™ºèƒ½å°è½¦',
                    description: 'åŸºäºArduinoçš„é¿éšœæ™ºèƒ½å°è½¦ï¼Œé›†æˆè¶…å£°æ³¢ä¼ æ„Ÿå™¨ã€ç”µæœºé©±åŠ¨ç­‰æ¨¡å—',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['Arduinoç¼–ç¨‹', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'ç”µæœºæ§åˆ¶', 'ç”µè·¯è®¾è®¡'],
                    icon: 'fas fa-car',
                    color: 'bg-blue-500',
                    category: 'electronics'
                },
                'led-matrix': {
                    id: 'led-matrix',
                    title: 'LEDç‚¹é˜µæ˜¾ç¤ºå±',
                    description: 'åˆ¶ä½œå¯ç¼–ç¨‹LEDç‚¹é˜µæ˜¾ç¤ºå±ï¼Œå®ç°æ–‡å­—æ»šåŠ¨ã€å›¾æ¡ˆæ˜¾ç¤ºç­‰åŠŸèƒ½',
                    difficulty: 'easy',
                    duration: '1-2å‘¨',
                    skills: ['æ•°å­—ç”µè·¯', 'LEDé©±åŠ¨', 'å•ç‰‡æœºç¼–ç¨‹', 'æ˜¾ç¤ºåŸç†'],
                    icon: 'fas fa-tv',
                    color: 'bg-green-500',
                    category: 'electronics'
                },
                'digital-clock': {
                    id: 'digital-clock',
                    title: 'æ•°å­—æ—¶é’Ÿ',
                    description: 'è®¾è®¡åˆ¶ä½œå¸¦é—¹é’ŸåŠŸèƒ½çš„æ•°å­—æ—¶é’Ÿï¼ŒåŒ…å«RTCæ¨¡å—å’ŒLCDæ˜¾ç¤º',
                    difficulty: 'easy',
                    duration: '1å‘¨',
                    skills: ['æ—¶é’Ÿç”µè·¯', 'LCDæ˜¾ç¤º', 'RTCåº”ç”¨', 'æŒ‰é”®æ§åˆ¶'],
                    icon: 'fas fa-clock',
                    color: 'bg-purple-500',
                    category: 'electronics'
                },
                
                // æœºå™¨äººé¡¹ç›®
                'robotic-arm': {
                    id: 'robotic-arm',
                    title: 'æœºæ¢°è‡‚æ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡å¤šè‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œå®ç°ç²¾ç¡®çš„ä½ç½®æ§åˆ¶å’Œè·¯å¾„è§„åˆ’',
                    difficulty: 'hard',
                    duration: '4-6å‘¨',
                    skills: ['æœºæ¢°è®¾è®¡', 'ä¼ºæœæ§åˆ¶', 'è¿åŠ¨å­¦', 'ç¼–ç¨‹æ§åˆ¶'],
                    icon: 'fas fa-robot',
                    color: 'bg-red-500',
                    category: 'robotics'
                },
                'line-follower': {
                    id: 'line-follower',
                    title: 'å¾ªè¿¹æœºå™¨äºº',
                    description: 'åˆ¶ä½œèƒ½å¤Ÿè‡ªåŠ¨å¾ªè¿¹çš„æœºå™¨äººï¼Œä½¿ç”¨çº¢å¤–ä¼ æ„Ÿå™¨æ£€æµ‹è·¯å¾„',
                    difficulty: 'medium',
                    duration: '2å‘¨',
                    skills: ['ä¼ æ„Ÿå™¨èåˆ', 'PIDæ§åˆ¶', 'è·¯å¾„è·Ÿè¸ª', 'æœºå™¨äººå¯¼èˆª'],
                    icon: 'fas fa-route',
                    color: 'bg-yellow-500',
                    category: 'robotics'
                },
                'drone-basic': {
                    id: 'drone-basic',
                    title: 'å››æ—‹ç¿¼æ— äººæœº',
                    description: 'ç»„è£…å¹¶ç¼–ç¨‹å››æ—‹ç¿¼æ— äººæœºï¼Œå®ç°ç¨³å®šé£è¡Œå’ŒåŸºæœ¬æ§åˆ¶',
                    difficulty: 'hard',
                    duration: '3-4å‘¨',
                    skills: ['é£è¡Œæ§åˆ¶', 'å§¿æ€ä¼ æ„Ÿå™¨', 'ç”µæœºè°ƒé€Ÿ', 'æ— çº¿é€šä¿¡'],
                    icon: 'fas fa-helicopter',
                    color: 'bg-indigo-500',
                    category: 'robotics'
                },
                
                // ç‰©è”ç½‘é¡¹ç›®
                'smart-home': {
                    id: 'smart-home',
                    title: 'æ™ºèƒ½å®¶å±…ç³»ç»Ÿ',
                    description: 'æ„å»ºç‰©è”ç½‘æ™ºèƒ½å®¶å±…ç³»ç»Ÿï¼Œå®ç°è¿œç¨‹æ§åˆ¶å’Œç¯å¢ƒç›‘æµ‹',
                    difficulty: 'medium',
                    duration: '3-4å‘¨',
                    skills: ['WiFié€šä¿¡', 'ä¼ æ„Ÿå™¨ç½‘ç»œ', 'ç§»åŠ¨åº”ç”¨', 'äº‘å¹³å°'],
                    icon: 'fas fa-home',
                    color: 'bg-teal-500',
                    category: 'iot'
                },
                'weather-station': {
                    id: 'weather-station',
                    title: 'æ°”è±¡ç›‘æµ‹ç«™',
                    description: 'åˆ¶ä½œèƒ½å¤Ÿå®æ—¶ç›‘æµ‹æ¸©æ¹¿åº¦ã€æ°”å‹ç­‰ç¯å¢ƒå‚æ•°çš„æ°”è±¡ç«™',
                    difficulty: 'easy',
                    duration: '1-2å‘¨',
                    skills: ['ç¯å¢ƒä¼ æ„Ÿå™¨', 'æ•°æ®é‡‡é›†', 'æ— çº¿ä¼ è¾“', 'æ•°æ®å¯è§†åŒ–'],
                    icon: 'fas fa-cloud-sun',
                    color: 'bg-cyan-500',
                    category: 'iot'
                },
                'smart-garden': {
                    id: 'smart-garden',
                    title: 'æ™ºèƒ½èŠ±å›­',
                    description: 'è®¾è®¡è‡ªåŠ¨æµ‡æ°´å’Œç¯å¢ƒç›‘æ§çš„æ™ºèƒ½èŠ±å›­ç³»ç»Ÿ',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['åœŸå£¤ä¼ æ„Ÿå™¨', 'è‡ªåŠ¨æ§åˆ¶', 'å®šæ—¶ç³»ç»Ÿ', 'ç§»åŠ¨ç›‘æ§'],
                    icon: 'fas fa-seedling',
                    color: 'bg-green-600',
                    category: 'iot'
                },
                
                // äººå·¥æ™ºèƒ½é¡¹ç›®
                'face-recognition': {
                    id: 'face-recognition',
                    title: 'äººè„¸è¯†åˆ«ç³»ç»Ÿ',
                    description: 'åŸºäºæ·±åº¦å­¦ä¹ çš„äººè„¸è¯†åˆ«ç³»ç»Ÿï¼Œå®ç°èº«ä»½éªŒè¯åŠŸèƒ½',
                    difficulty: 'hard',
                    duration: '4-5å‘¨',
                    skills: ['æ·±åº¦å­¦ä¹ ', 'è®¡ç®—æœºè§†è§‰', 'Pythonç¼–ç¨‹', 'æ¨¡å‹è®­ç»ƒ'],
                    icon: 'fas fa-user-check',
                    color: 'bg-pink-500',
                    category: 'ai'
                },
                'chatbot': {
                    id: 'chatbot',
                    title: 'æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                    description: 'å¼€å‘åŸºäºè‡ªç„¶è¯­è¨€å¤„ç†çš„æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                    difficulty: 'medium',
                    duration: '3å‘¨',
                    skills: ['NLP', 'æœºå™¨å­¦ä¹ ', 'å¯¹è¯ç³»ç»Ÿ', 'APIå¼€å‘'],
                    icon: 'fas fa-comments',
                    color: 'bg-blue-600',
                    category: 'ai'
                },
                'image-classifier': {
                    id: 'image-classifier',
                    title: 'å›¾åƒåˆ†ç±»å™¨',
                    description: 'è®­ç»ƒå·ç§¯ç¥ç»ç½‘ç»œè¿›è¡Œå›¾åƒåˆ†ç±»å’Œç‰©ä½“è¯†åˆ«',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['CNN', 'å›¾åƒå¤„ç†', 'TensorFlow', 'æ•°æ®é¢„å¤„ç†'],
                    icon: 'fas fa-images',
                    color: 'bg-purple-600',
                    category: 'ai'
                },
                
                // è‡ªåŠ¨åŒ–é¡¹ç›®
                'plc-control': {
                    id: 'plc-control',
                    title: 'PLCæ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡å·¥ä¸šè‡ªåŠ¨åŒ–PLCæ§åˆ¶ç³»ç»Ÿï¼Œå®ç°ç”Ÿäº§çº¿è‡ªåŠ¨åŒ–',
                    difficulty: 'hard',
                    duration: '4-6å‘¨',
                    skills: ['PLCç¼–ç¨‹', 'å·¥ä¸šæ§åˆ¶', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'äººæœºç•Œé¢'],
                    icon: 'fas fa-industry',
                    color: 'bg-gray-600',
                    category: 'automation'
                },
                'motor-control': {
                    id: 'motor-control',
                    title: 'ç”µæœºè°ƒé€Ÿç³»ç»Ÿ',
                    description: 'å®ç°ç›´æµç”µæœºå’Œæ­¥è¿›ç”µæœºçš„ç²¾ç¡®è°ƒé€Ÿæ§åˆ¶',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['ç”µæœºåŸç†', 'PWMæ§åˆ¶', 'åé¦ˆæ§åˆ¶', 'é©±åŠ¨ç”µè·¯'],
                    icon: 'fas fa-cog',
                    color: 'bg-orange-500',
                    category: 'automation'
                },
                'conveyor-system': {
                    id: 'conveyor-system',
                    title: 'ä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡è‡ªåŠ¨åŒ–ä¼ é€å¸¦ç³»ç»Ÿï¼ŒåŒ…å«ç‰©æ–™æ£€æµ‹å’Œåˆ†æ‹£åŠŸèƒ½',
                    difficulty: 'medium',
                    duration: '3å‘¨',
                    skills: ['ä¼ æ„Ÿå™¨åº”ç”¨', 'é€»è¾‘æ§åˆ¶', 'æœºæ¢°è®¾è®¡', 'ç³»ç»Ÿé›†æˆ'],
                    icon: 'fas fa-conveyor-belt',
                    color: 'bg-amber-500',
                    category: 'automation'
                }
            };
            
            return projectsData[projectId] || null;
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadProject();

            // AIåŠ©æ‰‹äº‹ä»¶ç›‘å¬
            document.getElementById('open-ai-assistant').addEventListener('click', openAIAssistant);
            document.getElementById('close-ai-assistant').addEventListener('click', closeAIAssistant);
            document.getElementById('send-ai-question').addEventListener('click', sendAIQuestion);
            
            // å›è½¦å‘é€æ¶ˆæ¯
            document.getElementById('ai-question-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendAIQuestion();
                }
            });

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            document.getElementById('ai-assistant-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeAIAssistant();
                }
            });
        });
    </script>
</body>
</html>
                title: 'æ™ºèƒ½å°è½¦',
                description: 'åŸºäºArduinoçš„é¿éšœæ™ºèƒ½å°è½¦ï¼Œé›†æˆè¶…å£°æ³¢ä¼ æ„Ÿå™¨ã€ç”µæœºé©±åŠ¨ç­‰æ¨¡å—ï¼Œå®ç°è‡ªä¸»å¯¼èˆªå’Œé¿éšœåŠŸèƒ½',
                difficulty: 'medium',
                duration: '2-3å‘¨',
                icon: 'fas fa-car',
                color: 'bg-blue-500',
                modules: [
                    {
                        title: 'ç¡¬ä»¶å¹³å°æ­å»º',
                        description: 'é€‰æ‹©åˆé€‚çš„ç¡¬ä»¶å¹³å°ï¼Œæ­å»ºå°è½¦åŸºç¡€ç»“æ„',
                        icon: 'fas fa-microchip',
                        color: 'bg-purple-500',
                        knowledgePoints: ['ArduinoåŸºç¡€', 'ç”µæœºé©±åŠ¨åŸç†', 'ä¼ æ„Ÿå™¨æ¥å£']
                    },
                    {
                        title: 'ä¼ æ„Ÿå™¨é›†æˆ',
                        description: 'é›†æˆè¶…å£°æ³¢ä¼ æ„Ÿå™¨å®ç°è·ç¦»æ£€æµ‹',
                        icon: 'fas fa-radar',
                        color: 'bg-green-500',
                        knowledgePoints: ['è¶…å£°æ³¢åŸç†', 'ä¿¡å·å¤„ç†', 'æ•°æ®æ»¤æ³¢']
                    },
                    {
                        title: 'æ§åˆ¶ç®—æ³•',
                        description: 'ç¼–å†™é¿éšœå’Œè·¯å¾„è§„åˆ’ç®—æ³•',
                        icon: 'fas fa-brain',
                        color: 'bg-red-500',
                        knowledgePoints: ['PIDæ§åˆ¶', 'è·¯å¾„è§„åˆ’', 'å†³ç­–ç®—æ³•']
                    },
                    {
                        title: 'ä»£ç å®ç°',
                        description: 'ä½¿ç”¨Arduino IDEç¼–å†™æ§åˆ¶ç¨‹åº',
                        icon: 'fas fa-code',
                        color: 'bg-blue-600',
                        knowledgePoints: ['C++ç¼–ç¨‹', 'Arduinoåº“', 'ä¸­æ–­å¤„ç†']
                    },
                    {
                        title: 'è°ƒè¯•ä¼˜åŒ–',
                        description: 'æµ‹è¯•ç³»ç»Ÿæ€§èƒ½å¹¶è¿›è¡Œå‚æ•°ä¼˜åŒ–',
                        icon: 'fas fa-tools',
                        color: 'bg-orange-500',
                        knowledgePoints: ['ç³»ç»Ÿè°ƒè¯•', 'æ€§èƒ½ä¼˜åŒ–', 'æ•…éšœæ’é™¤']
                    },
                    {
                        title: 'åŠŸèƒ½æ‰©å±•',
                        description: 'æ·»åŠ è“ç‰™æ§åˆ¶ã€æ‘„åƒå¤´ç­‰é«˜çº§åŠŸèƒ½',
                        icon: 'fas fa-plus-circle',
                        color: 'bg-teal-500',
                        knowledgePoints: ['æ— çº¿é€šä¿¡', 'å›¾åƒå¤„ç†', 'æ¨¡å—åŒ–è®¾è®¡']
                    }
                ],
                steps: [
                    {
                        title: 'éœ€æ±‚åˆ†æä¸è®¾è®¡',
                        description: 'æ˜ç¡®é¡¹ç›®ç›®æ ‡ï¼Œè®¾è®¡ç³»ç»Ÿæ¶æ„å’Œç¡¬ä»¶é€‰å‹',
                        duration: '1-2å¤©',
                        tasks: ['åŠŸèƒ½éœ€æ±‚åˆ†æ', 'ç¡¬ä»¶é€‰å‹', 'ç³»ç»Ÿæ¶æ„è®¾è®¡', 'æˆæœ¬é¢„ç®—']
                    },
                    {
                        title: 'ç¡¬ä»¶é‡‡è´­ä¸ç»„è£…',
                        description: 'é‡‡è´­æ‰€éœ€ç¡¬ä»¶å¹¶å®Œæˆå°è½¦æœºæ¢°ç»“æ„ç»„è£…',
                        duration: '2-3å¤©',
                        tasks: ['ç¡¬ä»¶é‡‡è´­', 'æœºæ¢°ç»„è£…', 'ç”µè·¯è¿æ¥', 'åŸºç¡€æµ‹è¯•']
                    },
                    {
                        title: 'åŸºç¡€åŠŸèƒ½å¼€å‘',
                        description: 'å®ç°ç”µæœºæ§åˆ¶å’Œä¼ æ„Ÿå™¨æ•°æ®è¯»å–åŠŸèƒ½',
                        duration: '3-4å¤©',
                        tasks: ['ç”µæœºé©±åŠ¨ç¨‹åº', 'ä¼ æ„Ÿå™¨æ¥å£', 'åŸºç¡€ç§»åŠ¨æ§åˆ¶', 'æ•°æ®é‡‡é›†']
                    },
                    {
                        title: 'é¿éšœç®—æ³•å®ç°',
                        description: 'å¼€å‘æ™ºèƒ½é¿éšœç®—æ³•å¹¶è¿›è¡Œæµ‹è¯•',
                        duration: '4-5å¤©',
                        tasks: ['é¿éšœé€»è¾‘è®¾è®¡', 'ç®—æ³•ç¼–ç¨‹å®ç°', 'å‚æ•°è°ƒä¼˜', 'åœºæ™¯æµ‹è¯•']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆæµ‹è¯•',
                        description: 'æ•´åˆæ‰€æœ‰åŠŸèƒ½æ¨¡å—å¹¶è¿›è¡Œç»¼åˆæµ‹è¯•',
                        duration: '2-3å¤©',
                        tasks: ['æ¨¡å—é›†æˆ', 'åŠŸèƒ½æµ‹è¯•', 'æ€§èƒ½è¯„ä¼°', 'é—®é¢˜ä¿®å¤']
                    },
                    {
                        title: 'ä¼˜åŒ–ä¸æ‰©å±•',
                        description: 'ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½å¹¶æ·»åŠ é¢å¤–åŠŸèƒ½',
                        duration: '2-3å¤©',
                        tasks: ['æ€§èƒ½ä¼˜åŒ–', 'åŠŸèƒ½æ‰©å±•', 'ç”¨æˆ·ç•Œé¢', 'æ–‡æ¡£ç¼–å†™']
                    }
                ],
                skills: ['Arduinoç¼–ç¨‹', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'ç”µæœºæ§åˆ¶', 'ç”µè·¯è®¾è®¡', 'C++ç¼–ç¨‹', 'ç³»ç»Ÿè°ƒè¯•'],
                knowledgePoints: [
                    'å•ç‰‡æœºåŸç†', 'PWMæ§åˆ¶', 'ä¼ æ„Ÿå™¨æŠ€æœ¯', 'ç”µæœºé©±åŠ¨', 
                    'åµŒå…¥å¼ç¼–ç¨‹', 'æ§åˆ¶ç®—æ³•', 'ä¿¡å·å¤„ç†', 'ç³»ç»Ÿé›†æˆ'
                ]
            },
            'led-matrix': {
                title: 'LEDç‚¹é˜µæ˜¾ç¤ºå±',
                description: 'åˆ¶ä½œå¯ç¼–ç¨‹LEDç‚¹é˜µæ˜¾ç¤ºå±ï¼Œå®ç°æ–‡å­—æ»šåŠ¨ã€å›¾æ¡ˆæ˜¾ç¤ºç­‰åŠŸèƒ½',
                difficulty: 'easy',
                duration: '1-2å‘¨',
                icon: 'fas fa-tv',
                color: 'bg-green-500',
                modules: [
                    {
                        title: 'LEDçŸ©é˜µåŸç†',
                        description: 'å­¦ä¹ LEDç‚¹é˜µæ˜¾ç¤ºåŸç†å’Œé©±åŠ¨æ–¹æ³•',
                        icon: 'fas fa-lightbulb',
                        color: 'bg-yellow-500',
                        knowledgePoints: ['LEDåŸç†', 'çŸ©é˜µæ‰«æ', 'æ˜¾ç¤ºé©±åŠ¨']
                    },
                    {
                        title: 'ç¡¬ä»¶ç”µè·¯è®¾è®¡',
                        description: 'è®¾è®¡LEDé©±åŠ¨ç”µè·¯å’Œæ§åˆ¶æ¥å£',
                        icon: 'fas fa-circuit-board',
                        color: 'bg-blue-500',
                        knowledgePoints: ['ç”µè·¯è®¾è®¡', 'é©±åŠ¨èŠ¯ç‰‡', 'PCBå¸ƒå±€']
                    },
                    {
                        title: 'æ˜¾ç¤ºç¨‹åºç¼–å†™',
                        description: 'ç¼–å†™å­—ç¬¦æ˜¾ç¤ºå’ŒåŠ¨ç”»æ•ˆæœç¨‹åº',
                        icon: 'fas fa-code',
                        color: 'bg-purple-500',
                        knowledgePoints: ['å­—ç¬¦ç¼–ç ', 'åŠ¨ç”»ç®—æ³•', 'å®šæ—¶æ§åˆ¶']
                    }
                ],
                steps: [
                    {
                        title: 'åŸç†å­¦ä¹ ',
                        description: 'å­¦ä¹ LEDç‚¹é˜µæ˜¾ç¤ºåŸç†',
                        duration: '1å¤©',
                        tasks: ['LEDåŸç†', 'çŸ©é˜µæ‰«æ', 'é©±åŠ¨æ–¹æ³•']
                    },
                    {
                        title: 'ç”µè·¯è®¾è®¡',
                        description: 'è®¾è®¡å¹¶æ­å»ºé©±åŠ¨ç”µè·¯',
                        duration: '2-3å¤©',
                        tasks: ['ç”µè·¯è®¾è®¡', 'å…ƒä»¶é€‰å‹', 'ç”µè·¯æ­å»º']
                    },
                    {
                        title: 'ç¨‹åºå¼€å‘',
                        description: 'ç¼–å†™æ˜¾ç¤ºæ§åˆ¶ç¨‹åº',
                        duration: '3-4å¤©',
                        tasks: ['åŸºç¡€æ˜¾ç¤º', 'å­—ç¬¦åº“', 'åŠ¨ç”»æ•ˆæœ']
                    }
                ],
                skills: ['æ•°å­—ç”µè·¯', 'LEDé©±åŠ¨', 'å•ç‰‡æœºç¼–ç¨‹', 'æ˜¾ç¤ºåŸç†'],
                knowledgePoints: ['æ•°å­—ç”µè·¯', 'LEDæŠ€æœ¯', 'æ˜¾ç¤ºé©±åŠ¨', 'åµŒå…¥å¼ç¼–ç¨‹']
            },
            'line-follower': {
                title: 'å¾ªè¿¹æœºå™¨äºº',
                description: 'åˆ¶ä½œèƒ½å¤Ÿè‡ªåŠ¨å¾ªè¿¹çš„æœºå™¨äººï¼Œä½¿ç”¨çº¢å¤–ä¼ æ„Ÿå™¨æ£€æµ‹è·¯å¾„',
                difficulty: 'medium',
                duration: '2å‘¨',
                icon: 'fas fa-route',
                color: 'bg-yellow-500',
                modules: [
                    {
                        title: 'ä¼ æ„Ÿå™¨ç³»ç»Ÿ',
                        description: 'é›†æˆçº¢å¤–ä¼ æ„Ÿå™¨é˜µåˆ—å®ç°è·¯å¾„æ£€æµ‹',
                        icon: 'fas fa-eye',
                        color: 'bg-red-500',
                        knowledgePoints: ['çº¢å¤–ä¼ æ„Ÿå™¨', 'ä¿¡å·è°ƒç†', 'é˜ˆå€¼è®¾å®š']
                    },
                    {
                        title: 'è¿åŠ¨æ§åˆ¶',
                        description: 'è®¾è®¡å·®é€Ÿé©±åŠ¨ç³»ç»Ÿå®ç°ç²¾ç¡®è½¬å‘',
                        icon: 'fas fa-cogs',
                        color: 'bg-blue-500',
                        knowledgePoints: ['å·®é€Ÿæ§åˆ¶', 'ç”µæœºé©±åŠ¨', 'PWMè°ƒé€Ÿ']
                    },
                    {
                        title: 'æ§åˆ¶ç®—æ³•',
                        description: 'å®ç°PIDæ§åˆ¶ç®—æ³•ä¼˜åŒ–å¾ªè¿¹æ€§èƒ½',
                        icon: 'fas fa-brain',
                        color: 'bg-green-500',
                        knowledgePoints: ['PIDæ§åˆ¶', 'åé¦ˆç³»ç»Ÿ', 'å‚æ•°è°ƒä¼˜']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆ',
                        description: 'æ•´åˆç¡¬ä»¶å’Œè½¯ä»¶å®ç°å®Œæ•´åŠŸèƒ½',
                        icon: 'fas fa-puzzle-piece',
                        color: 'bg-purple-500',
                        knowledgePoints: ['ç³»ç»Ÿè°ƒè¯•', 'æ€§èƒ½ä¼˜åŒ–', 'æ•…éšœè¯Šæ–­']
                    }
                ],
                steps: [
                    {
                        title: 'ç¡¬ä»¶æ­å»º',
                        description: 'ç»„è£…æœºå™¨äººåº•ç›˜å’Œä¼ æ„Ÿå™¨ç³»ç»Ÿ',
                        duration: '2-3å¤©',
                        tasks: ['åº•ç›˜ç»„è£…', 'ä¼ æ„Ÿå™¨å®‰è£…', 'ç”µè·¯è¿æ¥', 'åŸºç¡€æµ‹è¯•']
                    },
                    {
                        title: 'ä¼ æ„Ÿå™¨è°ƒè¯•',
                        description: 'æ ¡å‡†çº¢å¤–ä¼ æ„Ÿå™¨å¹¶æµ‹è¯•æ£€æµ‹æ•ˆæœ',
                        duration: '1-2å¤©',
                        tasks: ['ä¼ æ„Ÿå™¨æ ¡å‡†', 'é˜ˆå€¼è®¾å®š', 'æ£€æµ‹æµ‹è¯•', 'ä¿¡å·ä¼˜åŒ–']
                    },
                    {
                        title: 'åŸºç¡€å¾ªè¿¹',
                        description: 'å®ç°ç®€å•çš„å¾ªè¿¹åŠŸèƒ½',
                        duration: '2-3å¤©',
                        tasks: ['åŸºç¡€ç®—æ³•', 'è½¬å‘é€»è¾‘', 'é€Ÿåº¦æ§åˆ¶', 'è·¯å¾„æµ‹è¯•']
                    },
                    {
                        title: 'PIDä¼˜åŒ–',
                        description: 'å¼•å…¥PIDæ§åˆ¶æå‡å¾ªè¿¹ç²¾åº¦',
                        duration: '2-3å¤©',
                        tasks: ['PIDå®ç°', 'å‚æ•°è°ƒä¼˜', 'æ€§èƒ½æµ‹è¯•', 'ç¨³å®šæ€§éªŒè¯']
                    },
                    {
                        title: 'åŠŸèƒ½å®Œå–„',
                        description: 'æ·»åŠ èµ·åœæ§åˆ¶å’Œå¼‚å¸¸å¤„ç†',
                        duration: '1-2å¤©',
                        tasks: ['èµ·åœé€»è¾‘', 'å¼‚å¸¸å¤„ç†', 'ç”¨æˆ·ç•Œé¢', 'æœ€ç»ˆæµ‹è¯•']
                    }
                ],
                skills: ['ä¼ æ„Ÿå™¨èåˆ', 'PIDæ§åˆ¶', 'è·¯å¾„è·Ÿè¸ª', 'æœºå™¨äººå¯¼èˆª', 'åµŒå…¥å¼ç¼–ç¨‹'],
                knowledgePoints: [
                    'çº¢å¤–ä¼ æ„Ÿå™¨åŸç†', 'PIDæ§åˆ¶ç†è®º', 'å·®é€Ÿé©±åŠ¨', 'åé¦ˆæ§åˆ¶',
                    'ä¿¡å·å¤„ç†', 'æœºå™¨äººè¿åŠ¨å­¦', 'æ§åˆ¶ç³»ç»Ÿ', 'åµŒå…¥å¼ç³»ç»Ÿ'
                ]
            }
            // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–é¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯
        };

        // è·å–URLå‚æ•°
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // è·å–éš¾åº¦æ ‡ç­¾æ ·å¼
        function getDifficultyClass(difficulty) {
            const classes = {
                'easy': 'difficulty-easy',
                'medium': 'difficulty-medium',
                'hard': 'difficulty-hard'
            };
            return classes[difficulty] || 'difficulty-easy';
        }

        // è·å–éš¾åº¦æ–‡æœ¬
        function getDifficultyText(difficulty) {
            const texts = {
                'easy': 'å…¥é—¨',
                'medium': 'ä¸­çº§',
                'hard': 'é«˜çº§'
            };
            return texts[difficulty] || 'å…¥é—¨';
        }

        // æ¸²æŸ“é¡¹ç›®æ¨¡å—
        function renderModules(modules) {
            const container = document.getElementById('project-modules');
            container.innerHTML = modules.map((module, index) => `
                <div class="module-card bg-white p-6 shadow-lg fade-in-up stagger-${(index % 4) + 1}" 
                     onclick="openModuleDetail('${module.title}')">
                    <div class="module-icon ${module.color}">
                        <i class="${module.icon}"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">${module.title}</h3>
                    <p class="text-gray-600 mb-4">${module.description}</p>
                    <div class="flex flex-wrap gap-2">
                        ${module.knowledgePoints.slice(0, 2).map(point => 
                            `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">${point}</span>`
                        ).join('')}
                        ${module.knowledgePoints.length > 2 ? 
                            `<span class="text-gray-500 text-xs">+${module.knowledgePoints.length - 2}</span>` : ''
                        }
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <button class="text-blue-600 hover:text-blue-800 font-medium flex items-center">
                            æŸ¥çœ‹è¯¦æƒ… <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // æ¸²æŸ“é¡¹ç›®æ­¥éª¤
        function renderSteps(steps) {
            const container = document.getElementById('project-steps');
            container.innerHTML = steps.map((step, index) => `
                <div class="step-card p-6 fade-in-up stagger-${(index % 4) + 1}">
                    <div class="flex items-start">
                        <div class="step-number mr-4 mt-1">
                            ${index + 1}
                        </div>
                        <div class="flex-1">
                            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-3">
                                <h3 class="text-xl font-bold text-gray-800">${step.title}</h3>
                                <span class="text-sm text-gray-500 mt-1 lg:mt-0">
                                    <i class="fas fa-clock mr-1"></i>${step.duration}
                                </span>
                            </div>
                            <p class="text-gray-600 mb-4">${step.description}</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                ${step.tasks.map(task => 
                                    `<div class="flex items-center text-sm text-gray-700">
                                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                        ${task}
                                    </div>`
                                ).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // æ¸²æŸ“æŠ€èƒ½æ ‡ç­¾
        function renderSkills(skills) {
            const container = document.getElementById('project-skills');
            container.innerHTML = skills.map(skill => 
                `<span class="bg-blue-100 text-blue-800 px-3 py-2 rounded-lg font-medium">${skill}</span>`
            ).join('');
        }

        // æ¸²æŸ“çŸ¥è¯†ç‚¹
        function renderKnowledgePoints(points) {
            const container = document.getElementById('knowledge-points');
            container.innerHTML = points.map(point => 
                `<span class="knowledge-tag" onclick="searchKnowledge('${point}')">${point}</span>`
            ).join('');
        }

        // æ‰“å¼€æ¨¡å—è¯¦æƒ…
        function openModuleDetail(moduleTitle) {
            alert(`æ‰“å¼€æ¨¡å—è¯¦æƒ…ï¼š${moduleTitle}`);
            // è¿™é‡Œå¯ä»¥å®ç°è·³è½¬åˆ°æ¨¡å—è¯¦æƒ…é¡µé¢æˆ–æ˜¾ç¤ºæ¨¡æ€æ¡†
        }

        // æœç´¢çŸ¥è¯†ç‚¹
        function searchKnowledge(point) {
            // è·³è½¬åˆ°é—®ç­”é¡µé¢æœç´¢ç›¸å…³çŸ¥è¯†ç‚¹
            window.location.href = `/static/answer.html?q=${encodeURIComponent(point)}`;
        }

        // åŠ è½½é¡¹ç›®è¯¦æƒ…
        function loadProjectDetail() {
            const projectId = getUrlParameter('id');
            console.log('Loading project:', projectId); // è°ƒè¯•ä¿¡æ¯
            
            // é¦–å…ˆå°è¯•ä»é¡¹ç›®åˆ—è¡¨æ•°æ®ä¸­è·å–åŸºæœ¬ä¿¡æ¯
            const basicProject = getBasicProjectInfo(projectId);
            if (!basicProject) {
                alert('é¡¹ç›®ä¸å­˜åœ¨');
                window.location.href = '/static/projects.html';
                return;
            }
            
            // ç«‹å³æ›´æ–°åŸºæœ¬ä¿¡æ¯
            updateBasicProjectInfo(basicProject);
            
            // æ£€æŸ¥æ˜¯å¦æœ‰é¢„å®šä¹‰çš„è¯¦ç»†ä¿¡æ¯
            const project = projectDetails[projectId];
            
            if (project) {
                // å¦‚æœæœ‰é¢„å®šä¹‰ä¿¡æ¯ï¼Œç›´æ¥ä½¿ç”¨
                renderModules(project.modules || []);
                renderSteps(project.steps || []);
                renderSkills(project.skills || []);
                renderKnowledgePoints(project.knowledgePoints || []);
            } else {
                // å¦‚æœæ²¡æœ‰é¢„å®šä¹‰ä¿¡æ¯ï¼Œä½¿ç”¨AIç”Ÿæˆè¯¦ç»†å†…å®¹
                generateProjectDetailWithAI(basicProject);
            }
        }

        // æ›´æ–°é¡¹ç›®åŸºæœ¬ä¿¡æ¯
        function updateBasicProjectInfo(basicProject) {
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = `${basicProject.title} - é¡¹ç›®è¯¦æƒ… - Alethea`;

            // æ›´æ–°é¡¹ç›®åŸºæœ¬ä¿¡æ¯
            document.getElementById('project-title').textContent = basicProject.title;
            document.getElementById('project-description').textContent = basicProject.description;
            document.getElementById('project-duration').textContent = basicProject.duration;
            
            // æ›´æ–°éš¾åº¦æ ‡ç­¾
            const difficultyElement = document.getElementById('project-difficulty');
            difficultyElement.textContent = getDifficultyText(basicProject.difficulty);
            difficultyElement.className = `difficulty-badge ${getDifficultyClass(basicProject.difficulty)}`;
            
            // æ›´æ–°é¡¹ç›®å›¾æ ‡
            const iconElement = document.getElementById('project-icon');
            iconElement.className = `module-icon ${basicProject.color} mr-4`;
            iconElement.innerHTML = `<i class="${basicProject.icon}"></i>`;
        }

        // ä»é¡¹ç›®åˆ—è¡¨æ•°æ®ä¸­è·å–åŸºæœ¬é¡¹ç›®ä¿¡æ¯
        function getBasicProjectInfo(projectId) {
            // å®Œæ•´çš„é¡¹ç›®æ•°æ®ï¼ŒåŒ…å«æ‰€æœ‰é¡¹ç›®åˆ—è¡¨é¡µé¢çš„é¡¹ç›®
            const projectsData = {
                // ç”µå­å·¥ç¨‹é¡¹ç›®
                'smart-car': {
                    id: 'smart-car',
                    title: 'æ™ºèƒ½å°è½¦',
                    description: 'åŸºäºArduinoçš„é¿éšœæ™ºèƒ½å°è½¦ï¼Œé›†æˆè¶…å£°æ³¢ä¼ æ„Ÿå™¨ã€ç”µæœºé©±åŠ¨ç­‰æ¨¡å—',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['Arduinoç¼–ç¨‹', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'ç”µæœºæ§åˆ¶', 'ç”µè·¯è®¾è®¡'],
                    icon: 'fas fa-car',
                    color: 'bg-blue-500',
                    category: 'electronics'
                },
                'led-matrix': {
                    id: 'led-matrix',
                    title: 'LEDç‚¹é˜µæ˜¾ç¤ºå±',
                    description: 'åˆ¶ä½œå¯ç¼–ç¨‹LEDç‚¹é˜µæ˜¾ç¤ºå±ï¼Œå®ç°æ–‡å­—æ»šåŠ¨ã€å›¾æ¡ˆæ˜¾ç¤ºç­‰åŠŸèƒ½',
                    difficulty: 'easy',
                    duration: '1-2å‘¨',
                    skills: ['æ•°å­—ç”µè·¯', 'LEDé©±åŠ¨', 'å•ç‰‡æœºç¼–ç¨‹', 'æ˜¾ç¤ºåŸç†'],
                    icon: 'fas fa-tv',
                    color: 'bg-green-500',
                    category: 'electronics'
                },
                'digital-clock': {
                    id: 'digital-clock',
                    title: 'æ•°å­—æ—¶é’Ÿ',
                    description: 'è®¾è®¡åˆ¶ä½œå¸¦é—¹é’ŸåŠŸèƒ½çš„æ•°å­—æ—¶é’Ÿï¼ŒåŒ…å«RTCæ¨¡å—å’ŒLCDæ˜¾ç¤º',
                    difficulty: 'easy',
                    duration: '1å‘¨',
                    skills: ['æ—¶é’Ÿç”µè·¯', 'LCDæ˜¾ç¤º', 'RTCåº”ç”¨', 'æŒ‰é”®æ§åˆ¶'],
                    icon: 'fas fa-clock',
                    color: 'bg-purple-500',
                    category: 'electronics'
                },
                
                // æœºå™¨äººé¡¹ç›®
                'robotic-arm': {
                    id: 'robotic-arm',
                    title: 'æœºæ¢°è‡‚æ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡å¤šè‡ªç”±åº¦æœºæ¢°è‡‚ï¼Œå®ç°ç²¾ç¡®çš„ä½ç½®æ§åˆ¶å’Œè·¯å¾„è§„åˆ’',
                    difficulty: 'hard',
                    duration: '4-6å‘¨',
                    skills: ['æœºæ¢°è®¾è®¡', 'ä¼ºæœæ§åˆ¶', 'è¿åŠ¨å­¦', 'ç¼–ç¨‹æ§åˆ¶'],
                    icon: 'fas fa-robot',
                    color: 'bg-red-500',
                    category: 'robotics'
                },
                'line-follower': {
                    id: 'line-follower',
                    title: 'å¾ªè¿¹æœºå™¨äºº',
                    description: 'åˆ¶ä½œèƒ½å¤Ÿè‡ªåŠ¨å¾ªè¿¹çš„æœºå™¨äººï¼Œä½¿ç”¨çº¢å¤–ä¼ æ„Ÿå™¨æ£€æµ‹è·¯å¾„',
                    difficulty: 'medium',
                    duration: '2å‘¨',
                    skills: ['ä¼ æ„Ÿå™¨èåˆ', 'PIDæ§åˆ¶', 'è·¯å¾„è·Ÿè¸ª', 'æœºå™¨äººå¯¼èˆª'],
                    icon: 'fas fa-route',
                    color: 'bg-yellow-500',
                    category: 'robotics'
                },
                'drone-basic': {
                    id: 'drone-basic',
                    title: 'å››æ—‹ç¿¼æ— äººæœº',
                    description: 'ç»„è£…å¹¶ç¼–ç¨‹å››æ—‹ç¿¼æ— äººæœºï¼Œå®ç°ç¨³å®šé£è¡Œå’ŒåŸºæœ¬æ§åˆ¶',
                    difficulty: 'hard',
                    duration: '3-4å‘¨',
                    skills: ['é£è¡Œæ§åˆ¶', 'å§¿æ€ä¼ æ„Ÿå™¨', 'ç”µæœºè°ƒé€Ÿ', 'æ— çº¿é€šä¿¡'],
                    icon: 'fas fa-helicopter',
                    color: 'bg-indigo-500',
                    category: 'robotics'
                },
                
                // ç‰©è”ç½‘é¡¹ç›®
                'smart-home': {
                    id: 'smart-home',
                    title: 'æ™ºèƒ½å®¶å±…ç³»ç»Ÿ',
                    description: 'æ„å»ºç‰©è”ç½‘æ™ºèƒ½å®¶å±…ç³»ç»Ÿï¼Œå®ç°è¿œç¨‹æ§åˆ¶å’Œç¯å¢ƒç›‘æµ‹',
                    difficulty: 'medium',
                    duration: '3-4å‘¨',
                    skills: ['WiFié€šä¿¡', 'ä¼ æ„Ÿå™¨ç½‘ç»œ', 'ç§»åŠ¨åº”ç”¨', 'äº‘å¹³å°'],
                    icon: 'fas fa-home',
                    color: 'bg-teal-500',
                    category: 'iot'
                },
                'weather-station': {
                    id: 'weather-station',
                    title: 'æ°”è±¡ç›‘æµ‹ç«™',
                    description: 'åˆ¶ä½œèƒ½å¤Ÿå®æ—¶ç›‘æµ‹æ¸©æ¹¿åº¦ã€æ°”å‹ç­‰ç¯å¢ƒå‚æ•°çš„æ°”è±¡ç«™',
                    difficulty: 'easy',
                    duration: '1-2å‘¨',
                    skills: ['ç¯å¢ƒä¼ æ„Ÿå™¨', 'æ•°æ®é‡‡é›†', 'æ— çº¿ä¼ è¾“', 'æ•°æ®å¯è§†åŒ–'],
                    icon: 'fas fa-cloud-sun',
                    color: 'bg-cyan-500',
                    category: 'iot'
                },
                'smart-garden': {
                    id: 'smart-garden',
                    title: 'æ™ºèƒ½èŠ±å›­',
                    description: 'è®¾è®¡è‡ªåŠ¨æµ‡æ°´å’Œç¯å¢ƒç›‘æ§çš„æ™ºèƒ½èŠ±å›­ç³»ç»Ÿ',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['åœŸå£¤ä¼ æ„Ÿå™¨', 'è‡ªåŠ¨æ§åˆ¶', 'å®šæ—¶ç³»ç»Ÿ', 'ç§»åŠ¨ç›‘æ§'],
                    icon: 'fas fa-seedling',
                    color: 'bg-green-600',
                    category: 'iot'
                },
                
                // äººå·¥æ™ºèƒ½é¡¹ç›®
                'face-recognition': {
                    id: 'face-recognition',
                    title: 'äººè„¸è¯†åˆ«ç³»ç»Ÿ',
                    description: 'åŸºäºæ·±åº¦å­¦ä¹ çš„äººè„¸è¯†åˆ«ç³»ç»Ÿï¼Œå®ç°èº«ä»½éªŒè¯åŠŸèƒ½',
                    difficulty: 'hard',
                    duration: '4-5å‘¨',
                    skills: ['æ·±åº¦å­¦ä¹ ', 'è®¡ç®—æœºè§†è§‰', 'Pythonç¼–ç¨‹', 'æ¨¡å‹è®­ç»ƒ'],
                    icon: 'fas fa-user-check',
                    color: 'bg-pink-500',
                    category: 'ai'
                },
                'chatbot': {
                    id: 'chatbot',
                    title: 'æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                    description: 'å¼€å‘åŸºäºè‡ªç„¶è¯­è¨€å¤„ç†çš„æ™ºèƒ½èŠå¤©æœºå™¨äºº',
                    difficulty: 'medium',
                    duration: '3å‘¨',
                    skills: ['NLP', 'æœºå™¨å­¦ä¹ ', 'å¯¹è¯ç³»ç»Ÿ', 'APIå¼€å‘'],
                    icon: 'fas fa-comments',
                    color: 'bg-blue-600',
                    category: 'ai'
                },
                'image-classifier': {
                    id: 'image-classifier',
                    title: 'å›¾åƒåˆ†ç±»å™¨',
                    description: 'è®­ç»ƒå·ç§¯ç¥ç»ç½‘ç»œè¿›è¡Œå›¾åƒåˆ†ç±»å’Œç‰©ä½“è¯†åˆ«',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['CNN', 'å›¾åƒå¤„ç†', 'TensorFlow', 'æ•°æ®é¢„å¤„ç†'],
                    icon: 'fas fa-images',
                    color: 'bg-purple-600',
                    category: 'ai'
                },
                
                // è‡ªåŠ¨åŒ–é¡¹ç›®
                'plc-control': {
                    id: 'plc-control',
                    title: 'PLCæ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡å·¥ä¸šè‡ªåŠ¨åŒ–PLCæ§åˆ¶ç³»ç»Ÿï¼Œå®ç°ç”Ÿäº§çº¿è‡ªåŠ¨åŒ–',
                    difficulty: 'hard',
                    duration: '4-6å‘¨',
                    skills: ['PLCç¼–ç¨‹', 'å·¥ä¸šæ§åˆ¶', 'ä¼ æ„Ÿå™¨åº”ç”¨', 'äººæœºç•Œé¢'],
                    icon: 'fas fa-industry',
                    color: 'bg-gray-600',
                    category: 'automation'
                },
                'motor-control': {
                    id: 'motor-control',
                    title: 'ç”µæœºè°ƒé€Ÿç³»ç»Ÿ',
                    description: 'å®ç°ç›´æµç”µæœºå’Œæ­¥è¿›ç”µæœºçš„ç²¾ç¡®è°ƒé€Ÿæ§åˆ¶',
                    difficulty: 'medium',
                    duration: '2-3å‘¨',
                    skills: ['ç”µæœºåŸç†', 'PWMæ§åˆ¶', 'åé¦ˆæ§åˆ¶', 'é©±åŠ¨ç”µè·¯'],
                    icon: 'fas fa-cog',
                    color: 'bg-orange-500',
                    category: 'automation'
                },
                'conveyor-system': {
                    id: 'conveyor-system',
                    title: 'ä¼ é€å¸¦æ§åˆ¶ç³»ç»Ÿ',
                    description: 'è®¾è®¡è‡ªåŠ¨åŒ–ä¼ é€å¸¦ç³»ç»Ÿï¼ŒåŒ…å«ç‰©æ–™æ£€æµ‹å’Œåˆ†æ‹£åŠŸèƒ½',
                    difficulty: 'medium',
                    duration: '3å‘¨',
                    skills: ['ä¼ æ„Ÿå™¨åº”ç”¨', 'é€»è¾‘æ§åˆ¶', 'æœºæ¢°è®¾è®¡', 'ç³»ç»Ÿé›†æˆ'],
                    icon: 'fas fa-conveyor-belt',
                    color: 'bg-amber-500',
                    category: 'automation'
                }
            };
            
            return projectsData[projectId] || null;
        }

        // ä½¿ç”¨AIç”Ÿæˆé¡¹ç›®è¯¦ç»†å†…å®¹
        async function generateProjectDetailWithAI(basicProject) {
            try {
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                showLoadingState();
                
                // è°ƒç”¨AIç”Ÿæˆè¯¦ç»†å†…å®¹
                const response = await fetch('/api/llm/ask', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        question: `è¯·ä¸º"${basicProject.title}"é¡¹ç›®ç”Ÿæˆè¯¦ç»†çš„å­¦ä¹ å†…å®¹ã€‚

é¡¹ç›®æè¿°ï¼š${basicProject.description}
éš¾åº¦ç­‰çº§ï¼š${basicProject.difficulty}
é¢„è®¡æ—¶é—´ï¼š${basicProject.duration}
é¡¹ç›®åˆ†ç±»ï¼š${basicProject.category}
åŸºç¡€æŠ€èƒ½ï¼š${basicProject.skills.join(', ')}

è¯·ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š

1. é¡¹ç›®æ¨¡å—ï¼ˆ4-6ä¸ªï¼‰ï¼šæ¯ä¸ªæ¨¡å—åŒ…å«æ ‡é¢˜ã€æè¿°å’Œ3ä¸ªçŸ¥è¯†ç‚¹
2. å®æ–½æ­¥éª¤ï¼ˆ4-6ä¸ªï¼‰ï¼šæ¯ä¸ªæ­¥éª¤åŒ…å«æ ‡é¢˜ã€æè¿°ã€é¢„è®¡æ—¶é—´å’Œ4ä¸ªå…·ä½“ä»»åŠ¡
3. æ‰€éœ€æŠ€èƒ½ï¼ˆ6ä¸ªï¼‰ï¼šé¡¹ç›®å®Œæˆéœ€è¦æŒæ¡çš„æŠ€èƒ½
4. ç›¸å…³çŸ¥è¯†ç‚¹ï¼ˆ8ä¸ªï¼‰ï¼šä¸é¡¹ç›®ç›¸å…³çš„ç†è®ºçŸ¥è¯†

è¦æ±‚ï¼š
- å†…å®¹è¦ä¸“ä¸šã€å®ç”¨ã€å¾ªåºæ¸è¿›
- é€‚åˆ${basicProject.difficulty}éš¾åº¦ç­‰çº§
- æ‰€æœ‰å†…å®¹ä½¿ç”¨ä¸­æ–‡
- é’ˆå¯¹${basicProject.category}é¢†åŸŸç‰¹ç‚¹`,
                        provider: null,
                        model: null,
                        options: {
                            temperature: 0.7,
                            max_tokens: 2000
                        }
                    })
                });

                const data = await response.json();
                
                if (data.content) {
                    // è§£æAIç”Ÿæˆçš„å†…å®¹å¹¶è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®
                    const projectDetail = parseAIGeneratedContent(data.content, basicProject);
                    
                    // æ›´æ–°é¡µé¢å†…å®¹
                    updateProjectDetailPage(basicProject, projectDetail);
                } else {
                    // AIç”Ÿæˆå¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨å†…å®¹
                    console.log('AIç”Ÿæˆå¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨å†…å®¹');
                    generateFallbackContent(basicProject);
                }
            } catch (error) {
                console.error('AIå†…å®¹ç”Ÿæˆé”™è¯¯:', error);
                // ä½¿ç”¨å¤‡ç”¨å†…å®¹
                generateFallbackContent(basicProject);
            }
        }

        // è§£æAIç”Ÿæˆçš„å†…å®¹
        function parseAIGeneratedContent(content, basicProject) {
            // æ ¹æ®é¡¹ç›®ç±»å‹ç”Ÿæˆåˆé€‚çš„å›¾æ ‡å’Œé¢œè‰²
            const moduleIcons = [
                'fas fa-drafting-compass', 'fas fa-microchip', 'fas fa-code', 
                'fas fa-puzzle-piece', 'fas fa-tools', 'fas fa-rocket'
            ];
            const moduleColors = [
                'bg-blue-500', 'bg-green-500', 'bg-purple-500', 
                'bg-red-500', 'bg-orange-500', 'bg-teal-500'
            ];

            // ç”ŸæˆåŸºäºAIå†…å®¹çš„ç»“æ„åŒ–æ•°æ®
            const projectDetail = {
                modules: [
                    {
                        title: 'é¡¹ç›®è§„åˆ’ä¸è®¾è®¡',
                        description: `åˆ†æ${basicProject.title}çš„éœ€æ±‚ï¼Œè®¾è®¡ç³»ç»Ÿæ¶æ„å’Œå®ç°æ–¹æ¡ˆ`,
                        icon: moduleIcons[0],
                        color: moduleColors[0],
                        knowledgePoints: ['éœ€æ±‚åˆ†æ', 'ç³»ç»Ÿè®¾è®¡', 'æŠ€æœ¯é€‰å‹']
                    },
                    {
                        title: 'æ ¸å¿ƒæŠ€æœ¯å­¦ä¹ ',
                        description: `æŒæ¡${basicProject.title}é¡¹ç›®çš„æ ¸å¿ƒæŠ€æœ¯å’ŒåŸç†`,
                        icon: moduleIcons[1],
                        color: moduleColors[1],
                        knowledgePoints: basicProject.skills.slice(0, 3)
                    },
                    {
                        title: 'åŠŸèƒ½æ¨¡å—å¼€å‘',
                        description: `å®ç°${basicProject.title}çš„ä¸»è¦åŠŸèƒ½æ¨¡å—`,
                        icon: moduleIcons[2],
                        color: moduleColors[2],
                        knowledgePoints: ['æ¨¡å—è®¾è®¡', 'æ¥å£å®šä¹‰', 'åŠŸèƒ½å®ç°']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆæµ‹è¯•',
                        description: `é›†æˆå„ä¸ªæ¨¡å—å¹¶è¿›è¡Œå…¨é¢çš„åŠŸèƒ½æµ‹è¯•`,
                        icon: moduleIcons[3],
                        color: moduleColors[3],
                        knowledgePoints: ['ç³»ç»Ÿé›†æˆ', 'åŠŸèƒ½æµ‹è¯•', 'æ€§èƒ½ä¼˜åŒ–']
                    }
                ],
                steps: [
                    {
                        title: 'é¡¹ç›®å¯åŠ¨ä¸è§„åˆ’',
                        description: `æ˜ç¡®${basicProject.title}é¡¹ç›®çš„ç›®æ ‡å’Œå®æ–½è®¡åˆ’`,
                        duration: '1-2å¤©',
                        tasks: ['éœ€æ±‚è°ƒç ”', 'æŠ€æœ¯è°ƒç ”', 'é¡¹ç›®è®¡åˆ’åˆ¶å®š', 'å¼€å‘ç¯å¢ƒæ­å»º']
                    },
                    {
                        title: 'æŠ€æœ¯å­¦ä¹ ä¸å‡†å¤‡',
                        description: `å­¦ä¹ é¡¹ç›®æ‰€éœ€çš„æ ¸å¿ƒæŠ€æœ¯å’Œå·¥å…·`,
                        duration: '3-5å¤©',
                        tasks: ['ç†è®ºå­¦ä¹ ', 'å·¥å…·ç†Ÿæ‚‰', 'ç¤ºä¾‹ç»ƒä¹ ', 'æŠ€èƒ½éªŒè¯']
                    },
                    {
                        title: 'æ ¸å¿ƒåŠŸèƒ½å¼€å‘',
                        description: `å¼€å‘é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½å’Œç®—æ³•`,
                        duration: '1-2å‘¨',
                        tasks: ['æ¶æ„è®¾è®¡', 'æ ¸å¿ƒç®—æ³•', 'åŠŸèƒ½å®ç°', 'å•å…ƒæµ‹è¯•']
                    },
                    {
                        title: 'ç³»ç»Ÿå®Œå–„ä¸ä¼˜åŒ–',
                        description: `å®Œå–„ç³»ç»ŸåŠŸèƒ½å¹¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–`,
                        duration: '3-5å¤©',
                        tasks: ['åŠŸèƒ½å®Œå–„', 'æ€§èƒ½ä¼˜åŒ–', 'ç”¨æˆ·ç•Œé¢', 'æ–‡æ¡£ç¼–å†™']
                    }
                ],
                skills: basicProject.skills.concat(['é¡¹ç›®ç®¡ç†', 'é—®é¢˜è§£å†³']),
                knowledgePoints: generateKnowledgePoints(basicProject)
            };

            return projectDetail;
        }

        // æ ¹æ®é¡¹ç›®ç±»å‹ç”ŸæˆçŸ¥è¯†ç‚¹
        function generateKnowledgePoints(basicProject) {
            const baseKnowledge = ['é¡¹ç›®ç®¡ç†', 'ç³»ç»Ÿè®¾è®¡', 'é—®é¢˜è§£å†³', 'å›¢é˜Ÿåä½œ'];
            
            const categoryKnowledge = {
                'electronics': ['ç”µè·¯åŸç†', 'æ¨¡æ‹Ÿç”µè·¯', 'æ•°å­—ç”µè·¯', 'ä¼ æ„Ÿå™¨æŠ€æœ¯'],
                'robotics': ['æœºå™¨äººå­¦', 'æ§åˆ¶ç†è®º', 'è¿åŠ¨å­¦', 'ä¼ æ„Ÿå™¨èåˆ'],
                'iot': ['ç‰©è”ç½‘æ¶æ„', 'æ— çº¿é€šä¿¡', 'äº‘è®¡ç®—', 'æ•°æ®åˆ†æ'],
                'ai': ['æœºå™¨å­¦ä¹ ', 'æ·±åº¦å­¦ä¹ ', 'æ•°æ®ç§‘å­¦', 'ç®—æ³•ä¼˜åŒ–'],
                'automation': ['è‡ªåŠ¨æ§åˆ¶', 'å·¥ä¸šæ§åˆ¶', 'PLCç¼–ç¨‹', 'ç³»ç»Ÿé›†æˆ']
            };
            
            const specificKnowledge = categoryKnowledge[basicProject.category] || ['ä¸“ä¸šæŠ€æœ¯', 'ç³»ç»Ÿæ¶æ„', 'ç®—æ³•è®¾è®¡', 'æ€§èƒ½ä¼˜åŒ–'];
            
            return baseKnowledge.concat(specificKnowledge);
        }

        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoadingState() {
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            document.getElementById('project-modules').innerHTML = `
                <div class="col-span-full text-center py-12">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div>
                    <p class="text-gray-600">AIæ­£åœ¨ç”Ÿæˆé¡¹ç›®è¯¦ç»†å†…å®¹...</p>
                </div>
            `;
            
            document.getElementById('project-steps').innerHTML = `
                <div class="text-center py-8">
                    <div class="animate-pulse bg-gray-200 h-4 w-3/4 mx-auto mb-2"></div>
                    <div class="animate-pulse bg-gray-200 h-4 w-1/2 mx-auto"></div>
                </div>
            `;
            
            document.getElementById('project-skills').innerHTML = `
                <div class="flex space-x-2">
                    <div class="animate-pulse bg-gray-200 h-8 w-20 rounded"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-24 rounded"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-16 rounded"></div>
                </div>
            `;
            
            document.getElementById('knowledge-points').innerHTML = `
                <div class="flex flex-wrap gap-2">
                    <div class="animate-pulse bg-gray-200 h-8 w-20 rounded-full"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-24 rounded-full"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-16 rounded-full"></div>
                    <div class="animate-pulse bg-gray-200 h-8 w-28 rounded-full"></div>
                </div>
            `;
        }

        // æ›´æ–°é¡¹ç›®è¯¦æƒ…é¡µé¢
        function updateProjectDetailPage(basicProject, projectDetail) {
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = `${basicProject.title} - é¡¹ç›®è¯¦æƒ… - Alethea`;

            // æ›´æ–°é¡¹ç›®åŸºæœ¬ä¿¡æ¯
            document.getElementById('project-title').textContent = basicProject.title;
            document.getElementById('project-description').textContent = basicProject.description;
            document.getElementById('project-duration').textContent = basicProject.duration;
            
            // æ›´æ–°éš¾åº¦æ ‡ç­¾
            const difficultyElement = document.getElementById('project-difficulty');
            difficultyElement.textContent = getDifficultyText(basicProject.difficulty);
            difficultyElement.className = `difficulty-badge ${getDifficultyClass(basicProject.difficulty)}`;
            
            // æ›´æ–°é¡¹ç›®å›¾æ ‡
            const iconElement = document.getElementById('project-icon');
            iconElement.className = `module-icon ${basicProject.color} mr-4`;
            iconElement.innerHTML = `<i class="${basicProject.icon}"></i>`;
            
            // æ¸²æŸ“AIç”Ÿæˆçš„å†…å®¹
            renderModules(projectDetail.modules || []);
            renderSteps(projectDetail.steps || []);
            renderSkills(projectDetail.skills || []);
            renderKnowledgePoints(projectDetail.knowledgePoints || []);
        }

        // ç”Ÿæˆå¤‡ç”¨å†…å®¹
        function generateFallbackContent(basicProject) {
            const fallbackContent = {
                modules: [
                    {
                        title: 'é¡¹ç›®è§„åˆ’ä¸è®¾è®¡',
                        description: 'åˆ†æé¡¹ç›®éœ€æ±‚ï¼Œè®¾è®¡ç³»ç»Ÿæ¶æ„å’ŒæŠ€æœ¯æ–¹æ¡ˆ',
                        icon: 'fas fa-drafting-compass',
                        color: 'bg-blue-500',
                        knowledgePoints: ['éœ€æ±‚åˆ†æ', 'ç³»ç»Ÿè®¾è®¡', 'æŠ€æœ¯é€‰å‹']
                    },
                    {
                        title: 'æ ¸å¿ƒåŠŸèƒ½å¼€å‘',
                        description: 'å®ç°é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—å’Œç®—æ³•',
                        icon: 'fas fa-code',
                        color: 'bg-green-500',
                        knowledgePoints: ['ç®—æ³•å®ç°', 'æ¨¡å—å¼€å‘', 'æ¥å£è®¾è®¡']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆæµ‹è¯•',
                        description: 'é›†æˆå„ä¸ªæ¨¡å—å¹¶è¿›è¡Œå…¨é¢æµ‹è¯•',
                        icon: 'fas fa-puzzle-piece',
                        color: 'bg-purple-500',
                        knowledgePoints: ['ç³»ç»Ÿé›†æˆ', 'åŠŸèƒ½æµ‹è¯•', 'æ€§èƒ½ä¼˜åŒ–']
                    },
                    {
                        title: 'éƒ¨ç½²ä¸ç»´æŠ¤',
                        description: 'éƒ¨ç½²ç³»ç»Ÿå¹¶å»ºç«‹ç»´æŠ¤æœºåˆ¶',
                        icon: 'fas fa-rocket',
                        color: 'bg-orange-500',
                        knowledgePoints: ['ç³»ç»Ÿéƒ¨ç½²', 'è¿ç»´ç›‘æ§', 'æ•…éšœå¤„ç†']
                    }
                ],
                steps: [
                    {
                        title: 'é¡¹ç›®å¯åŠ¨ä¸è§„åˆ’',
                        description: 'æ˜ç¡®é¡¹ç›®ç›®æ ‡ï¼Œåˆ¶å®šè¯¦ç»†çš„å®æ–½è®¡åˆ’',
                        duration: '1-2å¤©',
                        tasks: ['éœ€æ±‚è°ƒç ”', 'æŠ€æœ¯è°ƒç ”', 'é¡¹ç›®è®¡åˆ’', 'èµ„æºå‡†å¤‡']
                    },
                    {
                        title: 'ç³»ç»Ÿè®¾è®¡ä¸æ¶æ„',
                        description: 'è®¾è®¡ç³»ç»Ÿæ¶æ„å’Œè¯¦ç»†çš„æŠ€æœ¯æ–¹æ¡ˆ',
                        duration: '2-3å¤©',
                        tasks: ['æ¶æ„è®¾è®¡', 'æ¨¡å—åˆ’åˆ†', 'æ¥å£å®šä¹‰', 'æ•°æ®åº“è®¾è®¡']
                    },
                    {
                        title: 'æ ¸å¿ƒåŠŸèƒ½å¼€å‘',
                        description: 'å¼€å‘é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½å’Œç®—æ³•',
                        duration: '1-2å‘¨',
                        tasks: ['ç®—æ³•å®ç°', 'åŠŸèƒ½å¼€å‘', 'å•å…ƒæµ‹è¯•', 'ä»£ç å®¡æŸ¥']
                    },
                    {
                        title: 'ç³»ç»Ÿé›†æˆä¸æµ‹è¯•',
                        description: 'é›†æˆå„ä¸ªæ¨¡å—å¹¶è¿›è¡Œå…¨é¢æµ‹è¯•',
                        duration: '3-5å¤©',
                        tasks: ['æ¨¡å—é›†æˆ', 'åŠŸèƒ½æµ‹è¯•', 'æ€§èƒ½æµ‹è¯•', 'é—®é¢˜ä¿®å¤']
                    },
                    {
                        title: 'éƒ¨ç½²ä¸ä¼˜åŒ–',
                        description: 'éƒ¨ç½²ç³»ç»Ÿå¹¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–',
                        duration: '2-3å¤©',
                        tasks: ['ç³»ç»Ÿéƒ¨ç½²', 'æ€§èƒ½è°ƒä¼˜', 'æ–‡æ¡£ç¼–å†™', 'ç”¨æˆ·åŸ¹è®­']
                    }
                ],
                skills: basicProject.skills.concat(['é¡¹ç›®ç®¡ç†', 'ç³»ç»Ÿè®¾è®¡', 'é—®é¢˜è§£å†³', 'å›¢é˜Ÿåä½œ']),
                knowledgePoints: [
                    'ç³»ç»Ÿæ¶æ„è®¾è®¡', 'ç®—æ³•ä¸æ•°æ®ç»“æ„', 'ç¼–ç¨‹è¯­è¨€åº”ç”¨', 'æ•°æ®åº“è®¾è®¡',
                    'ç½‘ç»œé€šä¿¡', 'ç”¨æˆ·ç•Œé¢è®¾è®¡', 'æµ‹è¯•æ–¹æ³•', 'é¡¹ç›®ç®¡ç†',
                    'ç‰ˆæœ¬æ§åˆ¶', 'æ–‡æ¡£ç¼–å†™', 'æ€§èƒ½ä¼˜åŒ–', 'å®‰å…¨é˜²æŠ¤'
                ]
            };
            
            updateProjectDetailPage(basicProject, fallbackContent);
        }

        // AIåŠ©æ‰‹ç›¸å…³åŠŸèƒ½
        let currentProjectId = '';
        let currentModuleName = '';

        // æ‰“å¼€AIåŠ©æ‰‹
        function openAIAssistant() {
            document.getElementById('ai-assistant-modal').classList.remove('hidden');
            document.getElementById('ai-question-input').focus();
        }

        // å…³é—­AIåŠ©æ‰‹
        function closeAIAssistant() {
            document.getElementById('ai-assistant-modal').classList.add('hidden');
        }

        // å‘é€AIé—®é¢˜
        function sendAIQuestion() {
            const input = document.getElementById('ai-question-input');
            const question = input.value.trim();
            
            if (!question) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°èŠå¤©ç•Œé¢
            addChatMessage(question, 'user');
            input.value = '';

            // æ¨¡æ‹ŸAIå›ç­”ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
            setTimeout(() => {
                const projectTitle = document.getElementById('project-title').textContent;
                addChatMessage(`è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼å…³äº${projectTitle}é¡¹ç›®ï¼Œæˆ‘å»ºè®®æ‚¨é¦–å…ˆäº†è§£ç›¸å…³çš„åŸºç¡€æ¦‚å¿µï¼Œç„¶åé€æ­¥å­¦ä¹ æ ¸å¿ƒæŠ€æœ¯ã€‚æ‚¨å¯ä»¥ä»ç®€å•çš„åŸºç¡€å®éªŒå¼€å§‹ï¼Œé€æ­¥è¿‡æ¸¡åˆ°å¤æ‚çš„ç³»ç»Ÿé›†æˆã€‚`, 'ai');
            }, 1000);
        }

        // æ·»åŠ èŠå¤©æ¶ˆæ¯
        function addChatMessage(message, sender, isLoading = false) {
            const chatMessages = document.getElementById('chat-messages');
            const messageId = 'msg-' + Date.now();
            
            const messageDiv = document.createElement('div');
            messageDiv.id = messageId;
            messageDiv.className = 'flex items-start space-x-3';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center ml-auto">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                    <div class="bg-blue-100 rounded-lg p-3 max-w-xs ml-auto">
                        <p class="text-sm">${message}</p>
                    </div>
                `;
                messageDiv.classList.add('flex-row-reverse');
            } else {
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="bg-gray-100 rounded-lg p-3 max-w-xs ${isLoading ? 'animate-pulse' : ''}">
                        <p class="text-sm">${message}</p>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            return messageId;
        }

        // ç§»é™¤èŠå¤©æ¶ˆæ¯
        function removeChatMessage(messageId) {
            const message = document.getElementById(messageId);
            if (message) {
                message.remove();
            }
        }

        // Language switching function
        function switchLanguage() {
            const projectId = getUrlParameter('id');
            window.location.href = `/static/project-detail-en.html?id=${projectId}`;
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...'); // è°ƒè¯•ä¿¡æ¯
            loadProjectDetail();
            
            // è·å–å½“å‰é¡¹ç›®ID
            currentProjectId = getUrlParameter('id') || '';
            console.log('Current project ID:', currentProjectId); // è°ƒè¯•ä¿¡æ¯

            // AIåŠ©æ‰‹äº‹ä»¶ç›‘å¬
            const openBtn = document.getElementById('open-ai-assistant');
            const closeBtn = document.getElementById('close-ai-assistant');
            const sendBtn = document.getElementById('send-ai-question');
            const input = document.getElementById('ai-question-input');
            const modal = document.getElementById('ai-assistant-modal');
            
            if (openBtn) {
                openBtn.addEventListener('click', function() {
                    console.log('Opening AI assistant'); // è°ƒè¯•ä¿¡æ¯
                    openAIAssistant();
                });
            }
            
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    console.log('Closing AI assistant'); // è°ƒè¯•ä¿¡æ¯
                    closeAIAssistant();
                });
            }
            
            if (sendBtn) {
                sendBtn.addEventListener('click', function() {
                    console.log('Sending AI question'); // è°ƒè¯•ä¿¡æ¯
                    sendAIQuestion();
                });
            }
            
            // å›è½¦å‘é€æ¶ˆæ¯
            if (input) {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        console.log('Enter pressed, sending question'); // è°ƒè¯•ä¿¡æ¯
                        sendAIQuestion();
                    }
                });
            }

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        console.log('Clicking outside modal, closing'); // è°ƒè¯•ä¿¡æ¯
                        closeAIAssistant();
                    }
                });
            }

            // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
